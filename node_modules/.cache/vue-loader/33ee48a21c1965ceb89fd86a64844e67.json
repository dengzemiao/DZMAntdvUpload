{"remainingRequest":"/Users/dengzemiao/Desktop/GitHub/DZMAntdvUpload/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dengzemiao/Desktop/GitHub/DZMAntdvUpload/src/components/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dengzemiao/Desktop/GitHub/DZMAntdvUpload/src/components/Upload.vue","mtime":1626257464853},{"path":"/Users/dengzemiao/Desktop/GitHub/DZMAntdvUpload/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dengzemiao/Desktop/GitHub/DZMAntdvUpload/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dengzemiao/Desktop/GitHub/DZMAntdvUpload/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dengzemiao/Desktop/GitHub/DZMAntdvUpload/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5Y6f55Sf5bGe5oCnIC0gYS11cGxvYWQg6Ieq5bim5bGe5oCn5omp5bGVID09PT09PT09CgogICAgLy8g5ZCv55So5ouW5ou95LiK5LygCiAgICAvLyAoZmFsc2U6IOS9v+eUqCBhLXVwbG9hZCDnu4Tku7bvvIx0cnVlOiDkvb/nlKggYS11cGxvYWQtZHJhZ2dlciDnu4Tku7YpCiAgICBpc0RyYWdnZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogKCkgPT4gZmFsc2UKICAgIH0sCiAgICAvLyDmjqXlj5fkuIrkvKDnmoTmlofku7bnsbvlnosgCiAgICAvLyDlj4LogIPlnLDlnYDvvJpodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXQvZmlsZSN1bmlxdWVfZmlsZV90eXBlX3NwZWNpZmllcnMKICAgIC8vIOmfs+mike+8midhdWRpby8qJwogICAgLy8g6KeG6aKR77yaJ3ZpZGVvLyonCiAgICAvLyDlm77niYfvvJonaW1hZ2UvKicKICAgIC8vIOeJueauiuWMuemFjeiHquihjOS8oOWFpeato+WImQogICAgYWNjZXB0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogKCkgPT4gdW5kZWZpbmVkCiAgICB9LAogICAgLy8g5bey57uP5LiK5Lyg55qE5paH5Lu25YiX6KGo77yI5Y+X5o6n77yJCiAgICAvLyDmlofku7bmoYjkvovvvJoKICAgIC8vIFt7CiAgICAvLyAgIHVpZDogJ+W/heW4pu+8jOaWh+S7tuWUr+S4gOagh+ivhicsCiAgICAvLyAgIG5hbWU6ICflv4XluKbvvIzmlofku7blkI0nLAogICAgLy8gICAvLyB1cGxvYWRpbmco5LiK5Lyg5LitKeOAgWRvbmUo5LiK5Lyg5oiQ5YqfKeOAgWVycm9yKOS4iuS8oOWksei0pSnjgIFyZW1vdmVkKOenu+mZpO+8jOeCueWHu+e7hOS7tuiHquW4pueahOWIoOmZpOaMiemSruS8muiiq+iuvue9ruS4uuenu+mZpOeKtuaAge+8jOmAmuW4uOWPqumcgOimgeWJjeS4ieenjeeKtuaAgSkKICAgIC8vICAgc3RhdHVzOiAn5b+F5bim77yM5LiK5Lyg54q25oCBJywKICAgIC8vICAgdXJsOiAn5Y+v6YCJ77yM5pyJ6ZO+5o6l5Y+v5Lul6L+b6KGM6Lez6L2sJywKICAgIC8vICAgZHVwaWQ6ICflj6/pgInvvIzpmLLmraLph43lpI3mlofku7bmoIfor4YoZmlsZS5sYXN0TW9kaWZpZWQpJywKICAgIC8vICAgdXBpZDogJ+WPr+mAie+8jOacrOi9ruS4iuS8oOWUr+S4gOagh+ivhu+8jOaPkOS6pOacjeWKoeWZqOaXtuWPr+WJlOmZpCcsCiAgICAvLyAgIOWmguaenOmcgOimgeS7gOS5iOWFtuS7luWtl+auteaIlui+heWKqeWtl+aute+8jOWPr+S7peiHquihjOa3u+WKoO+8jOaIluiAhemAmui/h+aLpuaIqiBiZWZvcmVVcGxvYWRQcm8g5ou/5YiwIGZpbGVKc29uIOiHquihjOmZhOW4pgogICAgLy8gfV0KICAgIGZpbGVMaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIC8vIOaYr+WQpuWxleekuuS4iuS8oOWIl+ihqAogICAgc2hvd1VwbG9hZExpc3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogKCkgPT4gdHJ1ZQogICAgfSwKICAgIC8vIOaYr+WQpuaUr+aMgeWkmumAieaWh+S7tu+8jGllMTArIOaUr+aMgeOAguW8gOWQr+WQjuaMieS9jyBjdHJsIOWPr+mAieaLqeWkmuS4quaWh+S7tuOAggogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogKCkgPT4gdHJ1ZQogICAgfSwKICAgIC8vIOaYr+WQpuemgeeUqAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogKCkgPT4gZmFsc2UKICAgIH0sCiAgICAvLyDlh4blpIfkuIrkvKDvvIzlm57osIPpkqnlrZDvvIzoi6Xov5Tlm54gZmFsc2Ug5YiZ5YGc5q2i5LiK5LygCiAgICAvLyDnsbvlnovvvJooZmlsZSwgZmlsZUxpc3QsIGZpbGVKc29uKSA9PiBib29sZWFuIHx8IFByb21pc2UKICAgIGJlZm9yZVVwbG9hZFBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAogICAgLy8g6Ieq5a6a5LmJ5LiK5Lyg77yM5Zue6LCD6ZKp5a2Q77yM5Y+v5Lul6Ieq5a6a5LmJ6Ieq5bex55qE5LiK5Lyg5a6e546w77yMCiAgICAvLyDnsbvlnovvvJooZGF0YSwgZmlsZUpzb24sIChpc1N1Y2Nlc3MpID0+IHt9KSA9PiB7fQogICAgY3VzdG9tUmVxdWVzdFBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAogICAgLy8g54K55Ye756e76Zmk5paH5Lu25pe255qE5Zue6LCD77yM6L+U5Zue5YC85Li6IGZhbHNlIOaXtuS4jeenu+mZpAogICAgLy8g57G75Z6L77yaKGZpbGUpID0+IGJvb2xlYW4gfHwgUHJvbWlzZQogICAgcmVtb3ZlUHJvOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDlhaznlKjmo4DmtYsgLSDmlofku7bmo4DmtYsgPT09PT09PT0KCiAgICAvLyDmlofku7bmo4DmtYvmqKHlvI/vvJoKICAgIC8vIDAgLT4g5LiN5qOA5rWLCiAgICAvLyAxIC0+IOacrOasoemAieaLqeeahOaJgOacieaWh+S7tu+8jOajgOa1i+Wksei0peeahOenu+mZpO+8jOaIkOWKn+eahOS4iuS8oAogICAgLy8gMiAtPiDmnKzmrKHpgInmi6nnmoTmiYDmnInmlofku7bvvIzmnInkuIDkuKrmo4DmtYvlpLHotKXvvIzlhajpg6jnp7vpmaQKICAgIGZpbGVDaGVja01vZGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAyCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5YWs55So5qOA5rWLIC0g5qOA5rWL6ZSZ6K+v5o6n5Yi2ID09PT09PT09CgogICAgLy8g5q+P6L2u5paH5Lu25LiK5Lyg5qOA5rWL6ZSZ6K+v5oqb5Ye65qih5byPOgogICAgLy8gMCAtPiDkuI3pmZDliLbvvIzmnInlpJrlsJHplJnor6/mraPluLjmipvlh7rvvIzlj6/ku6XpgJrov4fmr4/ova7nmoQgdXBsb2FkSWQg6Ieq6KGM5Yik5pat6YeN5aSN6Zeu6aKYIAogICAgLy8gMSAtPiDmnKzova7mo4DmtYvplJnor6/lj6rkvJrmipvlh7rkuIDmrKHvvIzlpoLmnpzmnKzova7mnInlpJrmrKHplJnor6/vvIzlj6rkvJrmipvlh7rnrKzkuIDmrKHnmoTplJnor6/vvIzlkI7nu63plJnor6/pg73kuI3kvJrlnKjmipvlh7oKICAgIC8vIOavj+i9ru+8muS5n+WwseaYr+avj+asoeeCueWHu+S4iuS8oOaMiemSrumAieaLqeaWh+S7tuWQjuehruWumuS4iuS8oOeul+S4gOi9ru+8jOS5n+aYr+acrOasoeaPkOS6pO+8iOWNlemAieWkmumAiemDveS4gOagt++8iQogICAgZXJyb3JNb2RlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMQogICAgfSwKICAgIC8vIOmUmeivr+WUr+S4gOagh+ivhu+8iHVwbG9hZElk77yJ5a2Y5pS+77yI5Y+q5ZyoIGVycm9yTW9kZSDmqKHlvI/kuLogMSDml7bnlJ/mlYjvvIkKICAgIGVycm9yVXBsb2FkSWRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IOWFrOeUqOajgOa1iyAtIOaWh+S7tuaVsOmHj+mZkOWItiA9PT09PT09PQoKICAgIC8vIOS4iuS8oOaWh+S7tuaVsOmHj+mZkOWItu+8mjAgLT4g5LiN6ZmQ5Yi277yM6ZqP5L6/5LygCiAgICBmaWxlTnVtYmVyOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOS4iuS8oOaWh+S7tuaVsOmHj+mZkOWItuajgOa1i+Wksei0peaPkOekugogICAgZmlsZU51bWJlckVycm9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogKCkgPT4gJ+W3sui2heWHuuS4iuS8oOaWh+S7tuaVsOmHj+mZkOWIticKICAgIH0sCiAgICAvLyDkuIrkvKDmlofku7bmlbDph4/pmZDliLblpLHotKXmj5DnpLrvvIzlrp7njrDov5nkuKrlsIbkuI3kvb/nlKggZmlsZVJlcGVhdEVycm9yCiAgICAvLyDnsbvlnovvvJooZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKSA9PiB7fQogICAgLy8gdXBsb2FkSWTvvJrmnKzmrKHkuIrkvKDmk43kvZzllK/kuIBJRO+8jOWkmumAieaWh+S7tuaooeW8j+WPr+mAmui/h+ivpeWUr+S4gElE5Y+q5pi+56S65LiA5qyh6ZSZ6K+vCiAgICBmaWxlTnVtYmVyRXJyb3JQcm86IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IOWFrOeUqOajgOa1iyAtIOaWh+S7tumHjeWkjSA9PT09PT09PQoKICAgIC8vIOaWh+S7tumHjeWkjeajgOa1i+aooeW8jzogCiAgICAvLyAwIC0+IOWFgeiuuOmHjeWkjQogICAgLy8gMSAtPiDnpoHmraLph43lpI3mlofku7Yo5aSa6YCJ5qih5byP77ya5pys5qyh6YCJ5oup55qE5omA5pyJ5paH5Lu277yM6YeN5aSN5paH5Lu256e76Zmk77yM5LiN6YeN5aSN5paH5Lu25LiK5LygKQogICAgLy8gMiAtPiDnpoHmraLph43lpI3mlofku7Yo5aSa6YCJ5qih5byP77ya5pys5qyh6YCJ5oup55qE5omA5pyJ5paH5Lu277yM5pyJ5LiA5Liq5a2Y5Zyo6YeN5aSN77yM5YWo6YOo56e76ZmkKQogICAgZmlsZVJlcGVhdE1vZGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAyCiAgICB9LAogICAgLy8g5paH5Lu26YeN5aSN5qOA5rWL5aSx6LSl5o+Q56S6CiAgICBmaWxlUmVwZWF0RXJyb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAoKSA9PiAn5LiN6IO96YeN5aSN5a+85YWl5paH5Lu2JwogICAgfSwKICAgIC8vIOaWh+S7tumHjeWkjeajgOa1i+Wksei0peaPkOekuu+8jOWunueOsOi/meS4quWwhuS4jeS9v+eUqCBmaWxlUmVwZWF0RXJyb3IKICAgIC8vIOexu+Wei++8mihmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQsIHJlcGVhdEZpbGVzKSA9PiB7fQogICAgLy8gdXBsb2FkSWTvvJrmnKzmrKHkuIrkvKDmk43kvZzllK/kuIBJRO+8jOWkmumAieaWh+S7tuaooeW8j+WPr+mAmui/h+ivpeWUr+S4gElE5Y+q5pi+56S65LiA5qyh6ZSZ6K+vCiAgICAvLyByZXBlYXRGaWxlczog6YeN5aSN5paH5Lu25YiX6KGoCiAgICBmaWxlUmVwZWF0RXJyb3JQcm86IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IOWFrOeUqOajgOa1iyAtIOaWh+S7tuWkp+WwjyA9PT09PT09PQogICAgCiAgICAvLyDmlofku7blpKflsI/mo4DmtYvmqKHlvI/vvIjljZXkvY0ga2LvvIk6IAogICAgLy8gMCAtPiDlhbPpl60KICAgIC8vIDEgLT4g5bCP5LqOCiAgICAvLyAyIC0+IOWkp+S6jgogICAgLy8gMyAtPiDnrYnkuo4KICAgIC8vIDExIC0+IOWwj+S6juaIluetieS6jgogICAgLy8gMjIgLT4g5aSn5LqO5oiW562J5LqOCiAgICBrYkNvbXBhcmVNb2RlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOaWh+S7tuWkp+Wwj++8iOWNleS9jSBrYu+8iQogICAga2JDb21wYXJlU2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDmlofku7blpKflsI/mo4DmtYvlpLHotKXmj5DnpLoKICAgIGtiQ29tcGFyZUVycm9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogKCkgPT4gJ+aWh+S7tuWkp+Wwj+S4juiuvuWumuiMg+WbtOS4jeWMuemFjScKICAgIH0sCiAgICAvLyDmlofku7blpKflsI/mo4DmtYvlpLHotKXmj5DnpLrlm57osIPvvIzlrp7njrDov5nkuKrlsIbkuI3kvb/nlKgga2JDb21wYXJlRXJyb3IKICAgIC8vIOexu+Wei++8mihmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpID0+IHt9CiAgICAvLyB1cGxvYWRJZO+8muacrOasoeS4iuS8oOaTjeS9nOWUr+S4gElE77yM5aSa6YCJ5paH5Lu25qih5byP5Y+v6YCa6L+H6K+l5ZSv5LiASUTlj6rmmL7npLrkuIDmrKHplJnor68KICAgIGtiQ29tcGFyZUVycm9yUHJvOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDlm77niYfmo4Dmn6UgLSDlrr3pq5jpmZDliLYgPT09PT09PT0KCiAgICAvLyDlm77niYflrr3pq5jmo4DmtYvmqKHlvI/vvIjljZXkvY0gcHjvvIk6IAogICAgLy8gMCAtPiDlhbPpl60KICAgIC8vIDEgLT4g5bCP5LqOCiAgICAvLyAyIC0+IOWkp+S6jgogICAgLy8gMyAtPiDnrYnkuo4KICAgIC8vIDExIC0+IOWwj+S6juaIluetieS6jgogICAgLy8gMjIgLT4g5aSn5LqO5oiW562J5LqOCiAgICBpbWdTaXplTW9kZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYflrr3luqbvvIjljZXkvY0gcHjvvIkKICAgIGltZ1NpemVXaWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYfpq5jluqbvvIjljZXkvY0gcHjvvIkKICAgIGltZ1NpemVIZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH5a696auY5qOA5rWL5aSx6LSl5o+Q56S6CiAgICBpbWdTaXplRXJyb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAoKSA9PiAn5Zu+54mH5a696auY5LiO6K6+5a6a5a696auY5LiN5Yy56YWNJwogICAgfSwKICAgIC8vIOWbvueJh+WuvemrmOajgOa1i+Wksei0peaPkOekuuWbnuiwg++8jOWunueOsOi/meS4quWwhuS4jeS9v+eUqCBpbWdTaXplRXJyb3IKICAgIC8vIOexu+Wei++8mihmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpID0+IHt9CiAgICAvLyB1cGxvYWRJZO+8muacrOasoeS4iuS8oOaTjeS9nOWUr+S4gElE77yM5aSa6YCJ5paH5Lu25qih5byP5Y+v6YCa6L+H6K+l5ZSv5LiASUTlj6rmmL7npLrkuIDmrKHplJnor68KICAgIGltZ1NpemVFcnJvclBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5Zu+54mH5qOA5p+lIC0g5q+U5L6L6ZmQ5Yi2ID09PT09PT09CgogICAgLy8g5Zu+54mH5q+U5L6L5qOA5rWL5qih5byP77yI5Y2V5L2NIHB477yJOiAKICAgIC8vIDAgLT4g5YWz6ZetCiAgICAvLyAxIC0+IOW8gOWQrwogICAgaW1nU2NhbGVNb2RlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOWbvueJh+WuveW6puavlOS+iwogICAgaW1nU2NhbGVXaWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYfpq5jluqbmr5TkvosKICAgIGltZ1NjYWxlSGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOWbvueJh+avlOS+i+ajgOa1i+Wksei0peaPkOekugogICAgaW1nU2NhbGVFcnJvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICflm77niYfmr5TkvovkuI7orr7lrprmr5TkvovkuI3ljLnphY0nCiAgICB9LAogICAgLy8g5Zu+54mH5q+U5L6L5qOA5rWL5aSx6LSl5o+Q56S65Zue6LCD77yM5a6e546w6L+Z5Liq5bCG5LiN5L2/55SoIGltZ1NjYWxlRXJyb3IKICAgIC8vIOexu+Wei++8mihmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpID0+IHt9CiAgICAvLyB1cGxvYWRJZO+8muacrOasoeS4iuS8oOaTjeS9nOWUr+S4gElE77yM5aSa6YCJ5paH5Lu25qih5byP5Y+v6YCa6L+H6K+l5ZSv5LiASUTlj6rmmL7npLrkuIDmrKHplJnor68KICAgIGltZ1NjYWxlRXJyb3JQcm86IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IOinhumikeajgOafpSAtIOWuvemrmOmZkOWItiA9PT09PT09PQoKICAgIC8vIOWbvueJh+WuvemrmOajgOa1i+aooeW8j++8iOWNleS9jSBweO+8iTogCiAgICAvLyAwIC0+IOWFs+mXrQogICAgLy8gMSAtPiDlsI/kuo4KICAgIC8vIDIgLT4g5aSn5LqOCiAgICAvLyAzIC0+IOetieS6jgogICAgLy8gMTEgLT4g5bCP5LqO5oiW562J5LqOCiAgICAvLyAyMiAtPiDlpKfkuo7miJbnrYnkuo4KICAgIHZpZGVTaXplTW9kZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYflrr3luqbvvIjljZXkvY0gcHjvvIkKICAgIHZpZGVTaXplV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH6auY5bqm77yI5Y2V5L2NIHB477yJCiAgICB2aWRlU2l6ZUhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYflrr3pq5jmo4DmtYvlpLHotKXmj5DnpLoKICAgIHZpZGVTaXplRXJyb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAoKSA9PiAn6KeG6aKR5a696auY5LiO6K6+5a6a5a696auY5LiN5Yy56YWNJwogICAgfSwKICAgIC8vIOWbvueJh+WuvemrmOajgOa1i+Wksei0peaPkOekuuWbnuiwg++8jOWunueOsOi/meS4quWwhuS4jeS9v+eUqCB2aWRlU2l6ZUVycm9yCiAgICAvLyDnsbvlnovvvJooZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKSA9PiB7fQogICAgLy8gdXBsb2FkSWTvvJrmnKzmrKHkuIrkvKDmk43kvZzllK/kuIBJRO+8jOWkmumAieaWh+S7tuaooeW8j+WPr+mAmui/h+ivpeWUr+S4gElE5Y+q5pi+56S65LiA5qyh6ZSZ6K+vCiAgICB2aWRlU2l6ZUVycm9yUHJvOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDlm77niYfmo4Dmn6UgLSDmr5TkvovpmZDliLYgPT09PT09PT0KCiAgICAvLyDlm77niYfmr5Tkvovmo4DmtYvmqKHlvI/vvIjljZXkvY0gcHjvvIk6IAogICAgLy8gMCAtPiDlhbPpl60KICAgIC8vIDEgLT4g5byA5ZCvCiAgICB2aWRlU2NhbGVNb2RlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOWbvueJh+WuveW6puavlOS+iwogICAgdmlkZVNjYWxlV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH6auY5bqm5q+U5L6LCiAgICB2aWRlU2NhbGVIZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH5q+U5L6L5qOA5rWL5aSx6LSl5o+Q56S6CiAgICB2aWRlU2NhbGVFcnJvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICfop4bpopHmr5TkvovkuI7orr7lrprmr5TkvovkuI3ljLnphY0nCiAgICB9LAogICAgLy8g5Zu+54mH5q+U5L6L5qOA5rWL5aSx6LSl5o+Q56S65Zue6LCD77yM5a6e546w6L+Z5Liq5bCG5LiN5L2/55SoIHZpZGVTY2FsZUVycm9yCiAgICAvLyDnsbvlnovvvJooZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKSA9PiB7fQogICAgLy8gdXBsb2FkSWTvvJrmnKzmrKHkuIrkvKDmk43kvZzllK/kuIBJRO+8jOWkmumAieaWh+S7tuaooeW8j+WPr+mAmui/h+ivpeWUr+S4gElE5Y+q5pi+56S65LiA5qyh6ZSZ6K+vCiAgICB2aWRlU2NhbGVFcnJvclBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g6Ieq5a6a5LmJ5bGe5oCn5a2Y5pS+ID09PT09PT09CgogICAgLy8g5aaC5p6c6Ieq5a6a5LmJ5LiK5Lyg5YaZ5Zyo5pys57uE5Lu25YaF6YOo77yM5Zue6LCD57uT5p6c6Ieq6KGM5Yaz5a6a77yM5aSW5bGC6YCa6L+HIGZpbGVKc29uLnN0YXR1cyDliKTmlq3miJDlip/lpLHotKXljbPlj68KICAgIC8vIOS+i+Wmgu+8mihmaWxlSnNvbiwgZXJyIHx8IHJlcykgPT4ge30KICAgIHVwbG9hZFJlc3VsdDogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDoh6rlrprkuYnkuIrkvKAKICAgIGN1c3RvbVJlcXVlc3QgKGRhdGEpIHsKICAgICAgLy8g5om+5Yiw5a+55bqU55qE5LiK5Lyg5paH5Lu25a+56LGhCiAgICAgIGNvbnN0IGZpbGVKc29uID0gdGhpcy5maWxlTGlzdC5maW5kKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBkYXRhLmZpbGUudWlkID09PSBpdGVtLnVpZAogICAgICB9KQogICAgICAvLyDoh6rlrprkuYnkuIrkvKDmnI3liqHlmagKICAgICAgaWYgKHRoaXMuY3VzdG9tUmVxdWVzdFBybykgewogICAgICAgIC8vIOiHquWumuS5ieivt+axgiAKICAgICAgICB0aGlzLmN1c3RvbVJlcXVlc3RQcm8oZGF0YSwgZmlsZUpzb24sIChpc1N1Y2Nlc3MpID0+IHsKICAgICAgICAgIC8vIHVwbG9hZGluZyjkuIrkvKDkuK0p44CBZG9uZSjkuIrkvKDmiJDlip8p44CBZXJyb3Io5LiK5Lyg5aSx6LSlKQogICAgICAgICAgY29uc3Qgc3RhdHVzID0gaXNTdWNjZXNzID8gJ2RvbmUnIDogJ2Vycm9yJwogICAgICAgICAgdGhpcy5jdXN0b21SZXF1ZXN0UmVzdWx0KGZpbGVKc29uLCBzdGF0dXMpCiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dFcnJvcign6K+36Ieq5bex5a6e546wIGN1c3RvbVJlcXVlc3RQcm8g6Ieq5a6a5LmJ5LiK5Lyg5pON5L2c77yBJykKICAgICAgICAvLyDlpoLmnpzpnIDopoHlsIbkuIrkvKDlhpnliLDlhoXpg6jov5nph4zvvIzlm57osIPnu5PmnpznnIvmg4XlhrXoh6rlrprkuYnvvIzlpJblsYLpgJrov4cgZmlsZUpzb24uc3RhdHVzIOWIpOaWreaIkOWKn+Wksei0peWNs+WPrwogICAgICAgIC8vIGlmICh0aGlzLnVwbG9hZFJlc3VsdCkgeyB0aGlzLnVwbG9hZFJlc3VsdChmaWxlSnNvbiwgZXJyIHx8IHJlcykgfQogICAgICAgIC8vIOS+i+Wmgu+8mijkuIPniZvkuIrkvKDvvIznu5nkuI7lj4LogIPvvIzmjqjojZDlsIbkuIvpnaLov5nmrrXkuIrkvKDlsIHoo4XmiJDkuIDkuKrlhazlhbEgZnVuY2F0aW9uIOaUvuWIsOS4gOS4quWFrOWRiuS4iuS8oCBqcyDmlofku7bkuK3vvIzlvZPkuIrkvKDlpLHotKXpnIDopoHph43mlrDkuIrkvKDmk43kvZzml7bvvIzlj6/ku6XkvKDlhaXmjIflrprlj4LmlbDph43mlrDkuIrkvKDljbPlj68pCiAgICAgICAgCiAgICAgICAgLy8gKOWPguiAg+ahiOS+iykKICAgICAgICAvLyDlsIYgZmlsZSDmlofku7bluKblhaXliLAgZmlsZUpzb24g5LitCiAgICAgICAgLy8gZmlsZUpzb24uZmlsZSA9IGRhdGEuZmlsZQogICAgICAgIC8vIOW8gOWni+S4iuS8oAogICAgICAgIC8vIHRoaXMudXBsb2FkQ3VzdG9tKGZpbGVKc29uLCB0aGlzLnVwbG9hZFJlc3VsdCkKICAgICAgfQogICAgfSwKICAgIC8vICjlj4LogIPmoYjkvosp6Ieq5a6a5LmJ5LiK5Lyg77yM5o6o6I2Q5pS+5Yiw5LiA5Liq5YWs5YWx5paH5Lu25Lit5Y675LiK5Lyg77yM5a+85YWl5Yiw5pys5paH5Lu25Lit5L2/55So77yM5pa55L6/5LiK5Lyg5aSx6LSl6YeN5paw5LiK5Lyg5pON5L2cCiAgICAvLyB1cGxvYWRDdXN0b20gKGZpbGVKc29uLCB1cGxvYWRSZXN1bHQpIHsKICAgIC8vICAgLy8g5qOA5p+l5piv5ZCm5pyJ5paH5Lu2CiAgICAvLyAgIGlmIChmaWxlSnNvbi5maWxlKSB7CiAgICAvLyAgICAgLy8g6K6+572u5Li65LiK5Lyg54q25oCBCiAgICAvLyAgICAgZmlsZUpzb24uc3RhdHVzID0gJ3VwbG9hZGluZycKICAgIC8vICAgICAvLyDmuIXnqbrkuIrkvKDov5vluqYKICAgIC8vICAgICBmaWxlSnNvbi5wZXJjZW50ID0gMAogICAgLy8gICAgIC8vIOWbnuiwg+WvueixoQogICAgLy8gICAgIGNvbnN0IG9ic2VydmVyID0gewogICAgLy8gICAgICAgbmV4dCAocmVzKSB7CiAgICAvLyAgICAgICAgIC8vIOi+k+WHuui/m+W6pgogICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygn5LiK5Lyg6L+b5bqmJywgcmVzKQogICAgLy8gICAgICAgICAvLyDorrDlvZXov5vluqYKICAgIC8vICAgICAgICAgZmlsZUpzb24ucGVyY2VudCA9IHJlcy50b3RhbC5wZXJjZW50CiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgZXJyb3IgKGVycikgewogICAgLy8gICAgICAgICAvLyDovpPlh7rplJnor68KICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coJ+S4iuS8oOWksei0pScsIGVycikKICAgIC8vICAgICAgICAgLy8g6K6+572u5Li65aSx6LSl54q25oCBCiAgICAvLyAgICAgICAgIGZpbGVKc29uLnN0YXR1cyA9ICdlcnJvcicKICAgIC8vICAgICAgICAgLy8g5Zue6LCD57uT5p6cCiAgICAvLyAgICAgICAgIGlmICh1cGxvYWRSZXN1bHQpIHsgdXBsb2FkUmVzdWx0KGZpbGVKc29uLCBlcnIpIH0KICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgICBjb21wbGV0ZSAocmVzKSB7CiAgICAvLyAgICAgICAgIC8vIOi+k+WHuue7k+aenAogICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygn5LiK5Lyg5oiQ5YqfJywgcmVzKQogICAgLy8gICAgICAgICAvLyDorr7nva7kuLrmiJDlip/nirbmgIEKICAgIC8vICAgICAgICAgZmlsZUpzb24uc3RhdHVzID0gJ2RvbmUnCiAgICAvLyAgICAgICAgIC8vIOS4iuS8oOaIkOWKn+WImea4heepuiBmaWxlIOWvueixoe+8jOWboOS4uuWPquacieWksei0peaJjeWPr+iDvemcgOimgemHjeaWsOS4iuS8oAogICAgLy8gICAgICAgICBmaWxlSnNvbi5maWxlID0gdW5kZWZpbmVkCiAgICAvLyAgICAgICAgIC8vIOWbnuiwg+e7k+aenAogICAgLy8gICAgICAgICBpZiAodXBsb2FkUmVzdWx0KSB7IHVwbG9hZFJlc3VsdChmaWxlSnNvbiwgcmVzKSB9CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfQogICAgLy8gICAgIC8vIOW8gOWni+S4iuS8oOWbnuiwgwogICAgLy8gICAgIGlmICh1cGxvYWRSZXN1bHQpIHsgdXBsb2FkUmVzdWx0KGZpbGVKc29uKSB9CiAgICAvLyAgICAgLy8g5byA5aeL5LiK5LygCiAgICAvLyAgICAgdXBsb2FkT3RoZXIoZmlsZUpzb24uZmlsZSwgb2JzZXJ2ZXIpCiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyDlh4blpIfkuIrkvKAKICAgIGJlZm9yZVVwbG9hZCAoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgLy8g5byA5aeL5qOA5rWLCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOWFrOeUqOi1i+WAvCAtIOmFjee9ruS4iuS8oOacrOi9ruWUr+S4gElEIC0tLS0tLS0tCgogICAgICAgIC8vIOiOt+WPluS4iuS8oOacrOi9ruWUr+S4gElE77yM5qOA5p+lIGZpbGUg5a+56LGh5piv5ZCm5pyJ5bim5pys6L2u5ZSv5LiASUQKICAgICAgICB2YXIgdXBsb2FkSWQgPSBmaWxlLnVwbG9hZElkCiAgICAgICAgLy8g5rKh5pyJ5YiZ5piv5paw55qE5LiA6L2u6YCJ5oup77yM6ZyA6KaB5paw6I635Y+W5pys6L2u5ZSv5LiASUQKICAgICAgICBpZiAoIXVwbG9hZElkKSB7IAogICAgICAgICAgLy8g6I635Y+W5Yiw5pys6L2u5ZSv5LiASUQKICAgICAgICAgIHVwbG9hZElkID0gdGhpcy5nZXRVcGxvYWRJZCgpCiAgICAgICAgICAvLyDlhajpg6jmlofku7bov5vooYzotYvlgLwKICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGl0ZW0udXBsb2FkSWQgPSB1cGxvYWRJZAogICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOWFrOeUqOajgOa1iyAtIOaWh+S7tuaVsOmHj+mZkOWItiAtLS0tLS0tLQoKICAgICAgICAvLyDmgLvmlofku7bmlbDph48KICAgICAgICBpZiAodGhpcy5maWxlTnVtYmVyICE9PSAwKSB7CiAgICAgICAgICAvLyDmlofku7bmgLvmlbDph48KICAgICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5maWxlTGlzdC5sZW5ndGggKyBmaWxlTGlzdC5sZW5ndGgKICAgICAgICAgIC8vIOWmguaenOaWh+S7tuaAu+aVsOmHj+i2hei/h+aWh+S7tumZkOWItuaVsOmHj+WImeWBnOatouS4iuS8oAogICAgICAgICAgaWYgKHRvdGFsID4gdGhpcy5maWxlTnVtYmVyKSB7CiAgICAgICAgICAgIC8vIOaYr+WQpuWFgeiuuOaKm+WHuumUmeivrwogICAgICAgICAgICBpZiAoIXRoaXMuaXNFeGlzdEVycm9yVXBsb2FkSWQodXBsb2FkSWQpKSB7CiAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZU51bWJlckVycm9yUHJvKSB7CiAgICAgICAgICAgICAgICAvLyDplJnor6/lm57osIMKICAgICAgICAgICAgICAgIHRoaXMuZmlsZU51bWJlckVycm9yUHJvKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5paH5qGICiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlTnVtYmVyRXJyb3IpIHsgdGhpcy5zaG93RXJyb3IodGhpcy5maWxlTnVtYmVyRXJyb3IpIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5LiN5YWB6K645LiK5LygCiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoKSkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDlhaznlKjmo4DmtYsgLSDmlofku7bmo4DmtYsgLS0tLS0tLS0KCiAgICAgICAgLy8g5paH5Lu25a+56LGhCiAgICAgICAgY29uc3QgZmlsZUpzb24gPSB7CiAgICAgICAgICAvLyDllK/kuIDmoIfor4bnrKYKICAgICAgICAgIHVpZDogZmlsZS51aWQsCiAgICAgICAgICAvLyDmlofku7blkI0KICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSwKICAgICAgICAgIC8vIOaWh+S7tueKtuaAge+8mnVwbG9hZGluZyjkuIrkvKDkuK0p44CBZG9uZSjkuIrkvKDmiJDlip8p44CBZXJyb3Io5LiK5Lyg5aSx6LSlKQogICAgICAgICAgc3RhdHVzOiAndXBsb2FkaW5nJywKICAgICAgICAgIC8vIOmYsuatoumHjeWkjeagh+ivhgogICAgICAgICAgZHVwaWQ6IGZpbGUubGFzdE1vZGlmaWVkLAogICAgICAgICAgLy8g5pys6L2u5LiK5LygSUQo5LiK5Lyg5pyN5Yqh5Zmo5Y+v5YmU6ZmkKQogICAgICAgICAgdXBpZDogdXBsb2FkSWQKICAgICAgICAgIC8vIOWFtuS7luiHqueUqOWtl+auteWPr+iHquihjOmZhOW4pgogICAgICAgIH0KCiAgICAgICAgLy8g5paH5Lu25qOA5rWLIC0g5ZCM5q2lCiAgICAgICAgaWYgKHRoaXMuZmlsZUNoZWNrTW9kZSAhPT0gMCkgewogICAgICAgICAgLy8g5Yy56YWN5qOA5rWL5qih5byPCiAgICAgICAgICBpZiAodGhpcy5maWxlQ2hlY2tNb2RlID09PSAxKSB7CiAgICAgICAgICAgIC8vIOacrOasoemAieaLqeeahOaJgOacieaWh+S7tu+8jOajgOa1i+Wksei0peeahOenu+mZpO+8jOaIkOWKn+eahOS4iuS8oAogICAgICAgICAgICB0aGlzLmZpbGVDaGVjayhmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8vIOWHhuWkh+S4iuS8oCDpooTlpITnkIYg57uT5p2fCiAgICAgICAgICAgICAgdGhpcy5iZWZvcmVVcGxvYWRQcm9FbmQoZmlsZSwgZmlsZUxpc3QsIGZpbGVKc29uLCByZXNvbHZlLCByZWplY3QpCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAvLyDkuI3lhYHorrjkuIrkvKAKICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCkpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmlsZUNoZWNrTW9kZSA9PT0gMikgewogICAgICAgICAgICAvLyDmnKzmrKHpgInmi6nnmoTmiYDmnInmlofku7bvvIzmnInkuIDkuKrmo4DmtYvlpLHotKXvvIzlhajpg6jnp7vpmaQKICAgICAgICAgICAgLy8gUHJvbWlzZSDmlbDnu4QKICAgICAgICAgICAgY29uc3QgcHMgPSBbXQogICAgICAgICAgICAvLyDlrZjmlL4gUHJvbWlzZQogICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgIHBzLnB1c2godGhpcy5maWxlQ2hlY2soaXRlbSwgZmlsZUxpc3QsIHVwbG9hZElkKSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8g5YWo6YOo6K+35rGCCiAgICAgICAgICAgIFByb21pc2UuYWxsKHBzKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAvLyDlh4blpIfkuIrkvKAg6aKE5aSE55CGIOe7k+adnwogICAgICAgICAgICAgIHRoaXMuYmVmb3JlVXBsb2FkUHJvRW5kKGZpbGUsIGZpbGVMaXN0LCBmaWxlSnNvbiwgcmVzb2x2ZSwgcmVqZWN0KQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgLy8g5LiN5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigpKQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5YeG5aSH5LiK5LygIOmihOWkhOeQhiDnu5PmnZ8KICAgICAgICAgICAgdGhpcy5iZWZvcmVVcGxvYWRQcm9FbmQoZmlsZSwgZmlsZUxpc3QsIGZpbGVKc29uLCByZXNvbHZlLCByZWplY3QpCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWHhuWkh+S4iuS8oCDpooTlpITnkIYg57uT5p2fCiAgICAgICAgICB0aGlzLmJlZm9yZVVwbG9hZFByb0VuZChmaWxlLCBmaWxlTGlzdCwgZmlsZUpzb24sIHJlc29sdmUsIHJlamVjdCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5YeG5aSH5LiK5LygIC0g6aKE5aSE55CGIOe7k+adnwogICAgYmVmb3JlVXBsb2FkUHJvRW5kIChmaWxlLCBmaWxlTGlzdCwgZmlsZUpzb24sIHJlc29sdmUsIHJlamVjdCkgewogICAgICAvLyDlh4blpIfkuIrkvKAg6aKE5aSE55CGCiAgICAgIHRoaXMuYmVmb3JlVXBsb2FkUHJvUmVhZHkoZmlsZSwgZmlsZUxpc3QsIGZpbGVKc29uKS50aGVuKCgpID0+IHsKICAgICAgICAvLyDliqDlhaXmlofku7bliJfooagKICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2goZmlsZUpzb24pCiAgICAgICAgLy8g5YWB6K645LiK5LygCiAgICAgICAgcmVzb2x2ZSgpCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAvLyDkuI3lhYHorrjkuIrkvKAKICAgICAgICByZWplY3QobmV3IEVycm9yKCkpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5YeG5aSH5LiK5LygIC0g6aKE5aSE55CGIOW8gOWniwogICAgYmVmb3JlVXBsb2FkUHJvUmVhZHkgKGZpbGUsIGZpbGVMaXN0LCBmaWxlSnNvbikgewogICAgICAvLyDpooTlpITnkIYKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAvLyDlpJbkvKDlm57osIMKICAgICAgICBpZiAodGhpcy5iZWZvcmVVcGxvYWRQcm8pIHsKICAgICAgICAgIC8vIOiOt+WPluWbnuiwg+e7k+aenAogICAgICAgICAgY29uc3QgcCA9IHRoaXMuYmVmb3JlVXBsb2FkUHJvKGZpbGUsIGZpbGVMaXN0LCBmaWxlSnNvbikKICAgICAgICAgIC8vIOajgOa1i+i/lOWbnuexu+WeiwogICAgICAgICAgaWYgKHR5cGVvZihwKSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICAgIC8vIOaYr+WQpuS4uiBCb29sZWFuCiAgICAgICAgICAgIGlmIChwKSB7CiAgICAgICAgICAgICAgLy8g5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8g5LiN5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigpKQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKCEhcCAmJiAodHlwZW9mKHApID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSAmJiB0eXBlb2YocC50aGVuKSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAvLyDmmK/lkKbkuLogUHJvbWlzZQogICAgICAgICAgICBwLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8vIOWFgeiuuOS4iuS8oAogICAgICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgLy8g5LiN5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigpKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlhYHorrjkuIrkvKAKICAgICAgICAgIHJlc29sdmUoKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDngrnlh7vnp7vpmaTmlofku7bml7bnmoTlm57osIMKICAgIHJlbW92ZSAoZmlsZSkgewogICAgICAvLyDpooTlpITnkIYKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAvLyDlpJbkvKDlm57osIMKICAgICAgICBpZiAodGhpcy5yZW1vdmVQcm8pIHsKICAgICAgICAgIC8vIOiOt+WPluWbnuiwg+e7k+aenAogICAgICAgICAgY29uc3QgcCA9IHRoaXMucmVtb3ZlUHJvKGZpbGUpCiAgICAgICAgICAvLyDmo4DmtYvov5Tlm57nsbvlnosKICAgICAgICAgIGlmICh0eXBlb2YocCkgPT09ICdib29sZWFuJykgewogICAgICAgICAgICAvLyDmmK/lkKbkuLogQm9vbGVhbgogICAgICAgICAgICBpZiAocCkgewogICAgICAgICAgICAgIC8vIOWIoOmZpOaWh+S7tgogICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maWxlTGlzdC5pbmRleE9mKGZpbGUpCiAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgICAgICAgLy8g5YWB6K645Yig6ZmkCiAgICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8g5LiN5YWB6K645Yig6ZmkCiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigpKQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKCEhcCAmJiAodHlwZW9mKHApID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSAmJiB0eXBlb2YocC50aGVuKSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAvLyDmmK/lkKbkuLogUHJvbWlzZQogICAgICAgICAgICBwLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8vIOWIoOmZpOaWh+S7tgogICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maWxlTGlzdC5pbmRleE9mKGZpbGUpCiAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgICAgICAgLy8g5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAvLyDkuI3lhYHorrjliKDpmaQKICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCkpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWIoOmZpOaWh+S7tgogICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbGVMaXN0LmluZGV4T2YoZmlsZSkKICAgICAgICAgIHRoaXMuZmlsZUxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgICAgICAgLy8g5YWB6K645Yig6ZmkCiAgICAgICAgICByZXNvbHZlKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5paH5Lu25qOA5rWLIC0g5ZCM5q2lCiAgICBmaWxlQ2hlY2sgKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkgewogICAgICAvLyDpooTlpITnkIYKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5YWs55So5qOA5rWLIC0g5paH5Lu26YeN5aSNIC0tLS0tLS0tCgogICAgICAgIC8vIOWIpOaWremHjeWkjeaWh+S7tgogICAgICAgIGlmICh0aGlzLmZpbGVSZXBlYXRNb2RlICE9PSAwKSB7CiAgICAgICAgICAvLyDojrflj5bph43lpI3liJfooagKICAgICAgICAgIGNvbnN0IHJlcGVhdEZpbGVzID0gW10KICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goaXRlbU9uZSA9PiB7CiAgICAgICAgICAgIHRoaXMuZmlsZUxpc3Quc29tZShpdGVtVHdvID0+IHsKICAgICAgICAgICAgICAvLyDmo4DmtYvliLDph43lpI3mlofku7Yg5ZCN56ew55u45ZCMICYmIOacgOWQjuS/ruaUueaXtumXtOebuOWQjCAmJiDkuIrkvKBJROS4jeebuOWQjAogICAgICAgICAgICAgIGNvbnN0IGlzUmVwZWF0ID0gaXRlbU9uZS5uYW1lID09PSBpdGVtVHdvLm5hbWUgJiYgaXRlbU9uZS5sYXN0TW9kaWZpZWQgPT09IGl0ZW1Ud28uZHVwaWQgJiYgdXBsb2FkSWQgIT09IGl0ZW1Ud28udXBpZAogICAgICAgICAgICAgIGlmIChpc1JlcGVhdCkgeyByZXBlYXRGaWxlcy5wdXNoKGl0ZW1PbmUpIH0KICAgICAgICAgICAgICByZXR1cm4gaXNSZXBlYXQKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgICAvLyDmoLnmja7ph43lpI3nsbvlnovmo4DmtYsKICAgICAgICAgIGlmICh0aGlzLmZpbGVSZXBlYXRNb2RlID09PSAxKSB7CiAgICAgICAgICAgIC8vIOemgeatoumHjeWkjeaWh+S7tijlpJrpgInmqKHlvI/vvJrmnKzmrKHpgInmi6nnmoTmiYDmnInmlofku7bvvIzph43lpI3mlofku7bnp7vpmaTvvIzkuI3ph43lpI3mlofku7bkuIrkvKApCiAgICAgICAgICAgIGNvbnN0IGlzUmVwZWF0ID0gdGhpcy5maWxlTGlzdC5zb21lKGl0ZW0gPT4gewogICAgICAgICAgICAgIHJldHVybiBmaWxlLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBmaWxlLmxhc3RNb2RpZmllZCA9PT0gaXRlbS5kdXBpZAogICAgICAgICAgICB9KQogICAgICAgICAgICAvLyDlrZjlnKjph43lpI0KICAgICAgICAgICAgaWYgKGlzUmVwZWF0KSB7CiAgICAgICAgICAgICAgLy8g5piv5ZCm5YWB6K645oqb5Ye66ZSZ6K+vCiAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFcnJvclVwbG9hZElkKHVwbG9hZElkKSkgewogICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlUmVwZWF0RXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgICAgLy8g6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZVJlcGVhdEVycm9yUHJvKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCwgcmVwZWF0RmlsZXMpCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyDmnInplJnor6/mlofmoYgKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZVJlcGVhdEVycm9yKSB7IHRoaXMuc2hvd0Vycm9yKHRoaXMuZmlsZVJlcGVhdEVycm9yKSB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIOajgOa1i+Wksei0pQogICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoKSkKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZpbGVSZXBlYXRNb2RlID09PSAyKSB7CiAgICAgICAgICAgIC8vIOemgeatoumHjeWkjeaWh+S7tijlpJrpgInmqKHlvI/vvJrmnKzmrKHpgInmi6nnmoTmiYDmnInmlofku7bvvIzmnInkuIDkuKrlrZjlnKjph43lpI3vvIzlhajpg6jnp7vpmaQpCiAgICAgICAgICAgIGNvbnN0IGlzUmVwZWF0ID0gQm9vbGVhbihyZXBlYXRGaWxlcy5sZW5ndGgpCiAgICAgICAgICAgIC8vIOWtmOWcqOmHjeWkjQogICAgICAgICAgICBpZiAoaXNSZXBlYXQpIHsKICAgICAgICAgICAgICAvLyDmmK/lkKblhYHorrjmipvlh7rplJnor68KICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNFeGlzdEVycm9yVXBsb2FkSWQodXBsb2FkSWQpKSB7CiAgICAgICAgICAgICAgICAvLyDmnInplJnor6/lm57osIMKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGVSZXBlYXRFcnJvclBybykgewogICAgICAgICAgICAgICAgICAvLyDplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgdGhpcy5maWxlUmVwZWF0RXJyb3JQcm8oZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkLCByZXBlYXRGaWxlcykKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+aWh+ahiAogICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlUmVwZWF0RXJyb3IpIHsgdGhpcy5zaG93RXJyb3IodGhpcy5maWxlUmVwZWF0RXJyb3IpIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigpKQogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDlhaznlKjmo4DmtYsgLSDmlofku7blpKflsI8gLS0tLS0tLS0KICAgICAgCiAgICAgICAgLy8g5byA5ZCv5LqGIC0g5paH5Lu25aSn5bCP5qOA5rWLCiAgICAgICAgaWYgKHRoaXMua2JDb21wYXJlTW9kZSAhPT0gMCkgewogICAgICAgICAgLy8g5qOA5rWL57uT5p6cCiAgICAgICAgICB2YXIgaXNPSyA9IHRydWUKICAgICAgICAgIC8vIOiOt+WPluaWh+S7tuWkp+Wwj++8iOWNleS9je+8mmti77yJCiAgICAgICAgICBjb25zdCBmaWxlU2l6ZSA9IGZpbGUuc2l6ZSAvIDEwMjQKICAgICAgICAgIC8vIOW8gOWni+ajgOa1iwogICAgICAgICAgaWYgKHRoaXMua2JDb21wYXJlTW9kZSA9PT0gMSkgewogICAgICAgICAgICAvLyDlsI/kuo4KICAgICAgICAgICAgaXNPSyA9IGZpbGVTaXplIDwgdGhpcy5rYkNvbXBhcmVTaXplCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMua2JDb21wYXJlTW9kZSA9PT0gMikgewogICAgICAgICAgICAvLyDlpKfkuo4KICAgICAgICAgICAgaXNPSyA9IGZpbGVTaXplID4gdGhpcy5rYkNvbXBhcmVTaXplCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMua2JDb21wYXJlTW9kZSA9PT0gMykgewogICAgICAgICAgICAvLyDnrYnkuo4KICAgICAgICAgICAgaXNPSyA9IGZpbGVTaXplID09PSB0aGlzLmtiQ29tcGFyZVNpemUKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5rYkNvbXBhcmVNb2RlID09PSAxMSkgewogICAgICAgICAgICAvLyDlsI/kuo7nrYnkuo4KICAgICAgICAgICAgaXNPSyA9IGZpbGVTaXplIDw9IHRoaXMua2JDb21wYXJlU2l6ZQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtiQ29tcGFyZU1vZGUgPT09IDIyKSB7CiAgICAgICAgICAgIC8vIOWkp+S6juetieS6jgogICAgICAgICAgICBpc09LID0gZmlsZVNpemUgPj0gdGhpcy5rYkNvbXBhcmVTaXplCiAgICAgICAgICB9IGVsc2Uge30KICAgICAgICAgIC8vIOWIpOaWreajgOa1i+e7k+aenAogICAgICAgICAgaWYgKCFpc09LKSB7CiAgICAgICAgICAgIC8vIOaYr+WQpuWFgeiuuOaKm+WHuumUmeivrwogICAgICAgICAgICBpZiAoIXRoaXMuaXNFeGlzdEVycm9yVXBsb2FkSWQodXBsb2FkSWQpKSB7CiAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgaWYgKHRoaXMua2JDb21wYXJlRXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgIC8vIOmUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgdGhpcy5rYkNvbXBhcmVFcnJvclBybyhmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+aWh+ahiAogICAgICAgICAgICAgICAgaWYgKHRoaXMua2JDb21wYXJlRXJyb3IpIHsgdGhpcy5zaG93RXJyb3IodGhpcy5rYkNvbXBhcmVFcnJvcikgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDmo4DmtYvlpLHotKUKICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigpKQogICAgICAgICAgICByZXR1cm4KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOWbvueJh+ajgOafpSAtIOWuvemrmOmZkOWItiAtIOavlOS+i+mZkOWItiAtLS0tLS0tLQoKICAgICAgICAvLyDlm77niYfmo4DmtYsKICAgICAgICBpZiAoKHRoaXMuaW1nU2l6ZU1vZGUgIT09IDAgfHwgdGhpcy5pbWdTY2FsZU1vZGUgIT09IDApICYmIHRoaXMuaXNJbWFnZShmaWxlLm5hbWUpKSB7CiAgICAgICAgICAvLyDojrflj5blm77niYflrr3pq5gKICAgICAgICAgIHRoaXMuaW1hZ2VTaXplKGZpbGUsIChpbWdXaWR0aCwgaW1nSGVpZ2h0KSA9PiB7CiAgICAgICAgICAgIC8vIOWbvueJh+ajgOa1iyAtIOWuvemrmOmZkOWItgogICAgICAgICAgICBpZiAodGhpcy5pbWdTaXplTW9kZSAhPT0gMCkgewogICAgICAgICAgICAgIC8vIOajgOa1i+e7k+aenAogICAgICAgICAgICAgIHZhciBpc09LID0gdHJ1ZQogICAgICAgICAgICAgIC8vIOW8gOWni+ajgOa1iwogICAgICAgICAgICAgIGlmICh0aGlzLmltZ1NpemVNb2RlID09PSAxKSB7CiAgICAgICAgICAgICAgICAvLyDlsI/kuo4KICAgICAgICAgICAgICAgIGlzT0sgPSAoaW1nV2lkdGggPCB0aGlzLmltZ1NpemVXaWR0aCAmJiBpbWdIZWlnaHQgPCB0aGlzLmltZ1NpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtiQ29tcGFyZU1vZGUgPT09IDIpIHsKICAgICAgICAgICAgICAgIC8vIOWkp+S6jgogICAgICAgICAgICAgICAgaXNPSyA9IChpbWdXaWR0aCA+IHRoaXMuaW1nU2l6ZVdpZHRoICYmIGltZ0hlaWdodCA+IHRoaXMuaW1nU2l6ZUhlaWdodCkKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW1nU2l6ZU1vZGUgPT09IDMpIHsKICAgICAgICAgICAgICAgIC8vIOetieS6jgogICAgICAgICAgICAgICAgaXNPSyA9IChpbWdXaWR0aCA9PT0gdGhpcy5pbWdTaXplV2lkdGggJiYgaW1nSGVpZ2h0ID09PSB0aGlzLmltZ1NpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmltZ1NpemVNb2RlID09PSAxMSkgewogICAgICAgICAgICAgICAgLy8g5bCP5LqO562J5LqOCiAgICAgICAgICAgICAgICBpc09LID0gKGltZ1dpZHRoIDw9IHRoaXMuaW1nU2l6ZVdpZHRoICYmIGltZ0hlaWdodCA8PSB0aGlzLmltZ1NpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmltZ1NpemVNb2RlID09PSAyMikgewogICAgICAgICAgICAgICAgLy8g5aSn5LqO562J5LqOCiAgICAgICAgICAgICAgICBpc09LID0gKGltZ1dpZHRoID49IHRoaXMuaW1nU2l6ZVdpZHRoICYmIGltZ0hlaWdodCA+PSB0aGlzLmltZ1NpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIHt9CiAgICAgICAgICAgICAgLy8g5Yik5pat5qOA5rWL57uT5p6cCiAgICAgICAgICAgICAgaWYgKCFpc09LKSB7CiAgICAgICAgICAgICAgICAvLyDmmK/lkKblhYHorrjmipvlh7rplJnor68KICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0V4aXN0RXJyb3JVcGxvYWRJZCh1cGxvYWRJZCkpIHsKICAgICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltZ1NpemVFcnJvclBybykgewogICAgICAgICAgICAgICAgICAgIC8vIOmUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nU2l6ZUVycm9yUHJvKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDmnInplJnor6/mlofmoYgKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWdTaXplRXJyb3IpIHsgdGhpcy5zaG93RXJyb3IodGhpcy5pbWdTaXplRXJyb3IpIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCkpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5Zu+54mH5qOA5rWLIC0g5q+U5L6L6ZmQ5Yi2CiAgICAgICAgICAgIGlmICh0aGlzLmltZ1NjYWxlTW9kZSAhPT0gMCkgewogICAgICAgICAgICAgIC8vIOajgOa1i+e7k+aenAogICAgICAgICAgICAgIHZhciBpc1dpZHRoID0gKGltZ1dpZHRoICUgdGhpcy5pbWdTY2FsZVdpZHRoKSA9PT0gMAogICAgICAgICAgICAgIHZhciBpc0hlaWdodCA9IChpbWdIZWlnaHQgJSB0aGlzLmltZ1NjYWxlSGVpZ2h0KSA9PT0gMAogICAgICAgICAgICAgIC8vIOWIpOaWreajgOa1i+e7k+aenAogICAgICAgICAgICAgIGlmICghaXNXaWR0aCAmJiAhaXNIZWlnaHQpIHsKICAgICAgICAgICAgICAgIC8vIOaYr+WQpuWFgeiuuOaKm+WHuumUmeivrwogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFcnJvclVwbG9hZElkKHVwbG9hZElkKSkgewogICAgICAgICAgICAgICAgICAvLyDmnInplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1nU2NhbGVFcnJvclBybykgewogICAgICAgICAgICAgICAgICAgIC8vIOmUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nU2NhbGVFcnJvclBybyhmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5paH5qGICiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1nU2NhbGVFcnJvcikgeyB0aGlzLnNob3dFcnJvcih0aGlzLmltZ1NjYWxlRXJyb3IpIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCkpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5qOA5rWL5oiQ5YqfCiAgICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgfSkKICAgICAgICAgIC8vIOS4jeimgeWcqOWQkeS4i+i1sOS6hgogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDop4bpopHmo4Dmn6UgLSDlrr3pq5jpmZDliLYgLSDmr5TkvovpmZDliLYgLS0tLS0tLS0KCiAgICAgICAgLy8g6KeG6aKR5qOA5rWLCiAgICAgICAgaWYgKCh0aGlzLnZpZGVTaXplTW9kZSAhPT0gMCB8fCB0aGlzLnZpZGVTY2FsZU1vZGUgIT09IDApICYmIHRoaXMuaXNWaWRlbyhmaWxlLm5hbWUpKSB7CiAgICAgICAgICAvLyDojrflj5blm77niYflrr3pq5gKICAgICAgICAgIHRoaXMudmlkZW9TaXplKGZpbGUsICh2aWRlb1dpZHRoLCB2aWRlb0hlaWdodCkgPT4gewogICAgICAgICAgICAvLyDlm77niYfmo4DmtYsgLSDlrr3pq5jpmZDliLYKICAgICAgICAgICAgaWYgKHRoaXMudmlkZVNpemVNb2RlICE9PSAwKSB7CiAgICAgICAgICAgICAgLy8g5qOA5rWL57uT5p6cCiAgICAgICAgICAgICAgdmFyIGlzT0sgPSB0cnVlCiAgICAgICAgICAgICAgLy8g5byA5aeL5qOA5rWLCiAgICAgICAgICAgICAgaWYgKHRoaXMudmlkZVNpemVNb2RlID09PSAxKSB7CiAgICAgICAgICAgICAgICAvLyDlsI/kuo4KICAgICAgICAgICAgICAgIGlzT0sgPSAodmlkZW9XaWR0aCA8IHRoaXMudmlkZVNpemVXaWR0aCAmJiB2aWRlb0hlaWdodCA8IHRoaXMudmlkZVNpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZpZGVTaXplTW9kZSA9PT0gMikgewogICAgICAgICAgICAgICAgLy8g5aSn5LqOCiAgICAgICAgICAgICAgICBpc09LID0gKHZpZGVvV2lkdGggPiB0aGlzLnZpZGVTaXplV2lkdGggJiYgdmlkZW9IZWlnaHQgPiB0aGlzLnZpZGVTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52aWRlU2l6ZU1vZGUgPT09IDMpIHsKICAgICAgICAgICAgICAgIC8vIOetieS6jgogICAgICAgICAgICAgICAgaXNPSyA9ICh2aWRlb1dpZHRoID09PSB0aGlzLnZpZGVTaXplV2lkdGggJiYgdmlkZW9IZWlnaHQgPT09IHRoaXMudmlkZVNpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZpZGVTaXplTW9kZSA9PT0gMTEpIHsKICAgICAgICAgICAgICAgIC8vIOWwj+S6juetieS6jgogICAgICAgICAgICAgICAgaXNPSyA9ICh2aWRlb1dpZHRoIDw9IHRoaXMudmlkZVNpemVXaWR0aCAmJiB2aWRlb0hlaWdodCA8PSB0aGlzLnZpZGVTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52aWRlU2l6ZU1vZGUgPT09IDIyKSB7CiAgICAgICAgICAgICAgICAvLyDlpKfkuo7nrYnkuo4KICAgICAgICAgICAgICAgIGlzT0sgPSAodmlkZW9XaWR0aCA+PSB0aGlzLnZpZGVTaXplV2lkdGggJiYgdmlkZW9IZWlnaHQgPj0gdGhpcy52aWRlU2l6ZUhlaWdodCkKICAgICAgICAgICAgICB9IGVsc2Uge30KICAgICAgICAgICAgICAvLyDliKTmlq3mo4DmtYvnu5PmnpwKICAgICAgICAgICAgICBpZiAoIWlzT0spIHsKICAgICAgICAgICAgICAgIC8vIOaYr+WQpuWFgeiuuOaKm+WHuumUmeivrwogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFcnJvclVwbG9hZElkKHVwbG9hZElkKSkgewogICAgICAgICAgICAgICAgICAvLyDmnInplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlkZVNpemVFcnJvclBybykgewogICAgICAgICAgICAgICAgICAgIC8vIOmUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZVNpemVFcnJvclBybyhmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5paH5qGICiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlkZVNpemVFcnJvcikgeyB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMudmlkZVNpemVFcnJvcikgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDmo4DmtYvlpLHotKUKICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoKSkKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDlm77niYfmo4DmtYsgLSDmr5TkvovpmZDliLYKICAgICAgICAgICAgaWYgKHRoaXMudmlkZVNjYWxlTW9kZSAhPT0gMCkgewogICAgICAgICAgICAgIC8vIOajgOa1i+e7k+aenAogICAgICAgICAgICAgIHZhciBpc1dpZHRoID0gKHZpZGVvV2lkdGggJSB0aGlzLnZpZGVTY2FsZVdpZHRoKSA9PT0gMAogICAgICAgICAgICAgIHZhciBpc0hlaWdodCA9ICh2aWRlb0hlaWdodCAlIHRoaXMudmlkZVNjYWxlSGVpZ2h0KSA9PT0gMAogICAgICAgICAgICAgIC8vIOWIpOaWreajgOa1i+e7k+aenAogICAgICAgICAgICAgIGlmICghaXNXaWR0aCAmJiAhaXNIZWlnaHQpIHsKICAgICAgICAgICAgICAgIC8vIOaYr+WQpuWFgeiuuOaKm+WHuumUmeivrwogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFcnJvclVwbG9hZElkKHVwbG9hZElkKSkgewogICAgICAgICAgICAgICAgICAvLyDmnInplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlkZVNjYWxlRXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgICAgICAvLyDplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVTY2FsZUVycm9yUHJvKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDmnInplJnor6/mlofmoYgKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWRlU2NhbGVFcnJvcikgeyB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMudmlkZVNjYWxlRXJyb3IpIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCkpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5qOA5rWL5oiQ5YqfCiAgICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgfSkKICAgICAgICAgIC8vIOS4jeimgeWcqOWQkeS4i+i1sOS6hgogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDmo4DmtYvmiJDlip8gLS0tLS0tLS0KCiAgICAgICAgLy8g5qOA5rWL5oiQ5YqfCiAgICAgICAgcmVzb2x2ZSgpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5pi+56S66ZSZ6K+v77yM57uf5LiA566h55CG77yM5pa55L6/5pu/5o2iCiAgICBzaG93RXJyb3IgKG1lc3NhZ2UpIHsKICAgICAgLy8g5pi+56S66ZSZ6K+vCiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IobWVzc2FnZSkKICAgIH0sCiAgICAvLyDoh6rlrprkuYnkuIrkvKDnu5PmnpwKICAgIGN1c3RvbVJlcXVlc3RSZXN1bHQgKGZpbGVKc29uLCBzdGF0dXMpIHsKICAgICAgLy8g6K6+572u5LiK5Lyg54q25oCBCiAgICAgIGZpbGVKc29uLnN0YXR1cyA9IHN0YXR1cwogICAgfSwKICAgIC8vIOiOt+WPluacrOasoeS4iuS8oOWUr+S4gElECiAgICBnZXRVcGxvYWRJZCAoKSB7CiAgICAgIC8vIOi/lOWbngogICAgICByZXR1cm4gdGhpcy5VVUlEKCkKICAgIH0sCiAgICAvLyDmmK/lkKblrZjlnKjmnKzova7plJnor68gdXBsb2FkSWQKICAgIGlzRXhpc3RFcnJvclVwbG9hZElkICh1cGxvYWRJZCkgewogICAgICAvLyDlvZPkuLrplJnor6/llK/kuIDmqKHlvI/nmoTml7blgJnmiY3pnIDopoHmo4DmtYsKICAgICAgaWYgKHRoaXMuZXJyb3JNb2RlID09PSAxKSB7CiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmVycm9yVXBsb2FkSWRzLmluZGV4T2YodXBsb2FkSWQpCiAgICAgICAgY29uc3QgaXNFeGlzdCA9IGluZGV4ICE9PSAtMQogICAgICAgIGlmICghaXNFeGlzdCkgewogICAgICAgICAgdGhpcy5lcnJvclVwbG9hZElkcy5wdXNoKHVwbG9hZElkKQogICAgICAgIH0KICAgICAgICByZXR1cm4gaXNFeGlzdAogICAgICB9CiAgICAgIC8vIOS4jeWMheWQqwogICAgICByZXR1cm4gZmFsc2UKICAgIH0sCiAgICAvLyDojrflj5blm77niYflsLrlr7jvvIjlvILmraXojrflj5bvvIkKICAgIGltYWdlU2l6ZSAoZmlsZSwgcmVzdWx0KSB7CiAgICAgIC8vIOaWh+S7tuacieWAvAogICAgICBpZiAoZmlsZSkgewogICAgICAgIC8vIOWIm+W7uiBGaWxlUmVhZGVyCiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCkKICAgICAgICAvLyDliqDovb3mlofku7YKICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHsKICAgICAgICAgIC8vIOiOt+WPliBiYXNlNjQg5Zu+54mH5pWw5o2uCiAgICAgICAgICB2YXIgaW1nRGF0YSA9IGUudGFyZ2V0LnJlc3VsdAogICAgICAgICAgLy8g6YCa6L+HSW1hZ2Xlr7nosaHliqDovb0gYmFzZTY0IOWbvueJh+aVsOaNrgogICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCkKICAgICAgICAgIC8vIOWbvueJh+WKoOi9veWujOaIkAogICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4gewogICAgICAgICAgICAvLyDov5Tlm57lrr3pq5gKICAgICAgICAgICAgcmVzdWx0KGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpCiAgICAgICAgICB9CiAgICAgICAgICAvLyDmt7vliqDlm77niYfov5vooYzor7vlj5YKICAgICAgICAgIGltYWdlLnNyYyA9IGltZ0RhdGEKICAgICAgICB9CiAgICAgICAgLy8g5byA5aeL6K+75Y+W5paH5Lu2CiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSkKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmnKrojrflj5bliLDmlofku7YKICAgICAgICByZXN1bHQoMCwgMCkKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluinhumikeWwuuWvuO+8iOW8guatpeiOt+WPlu+8iQogICAgdmlkZW9TaXplIChmaWxlLCByZXN1bHQpIHsKICAgICAgLy8g5paH5Lu25pyJ5YC8CiAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgLy8g6I635Y+W5paH5Lu2VVJMCiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKQogICAgICAgIC8vIOWIm+W7uuinhumikeagh+etvgogICAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKQogICAgICAgIC8vIOWKoOi9veinhumikei1hOa6kAogICAgICAgIHZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSBldnQgPT4gewogICAgICAgICAgLy8g56e76ZmkCiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCkKICAgICAgICAgIC8vIOi/lOWbnuWuvemrmAogICAgICAgICAgcmVzdWx0KHZpZGVvLnZpZGVvV2lkdGgsIHZpZGVvLnZpZGVvSGVpZ2h0KQogICAgICAgIH0KICAgICAgICAvLyDorr7nva7op4bpopHmupAKICAgICAgICB2aWRlby5zcmMgPSB1cmwKICAgICAgICAvLyDliqDovb0KICAgICAgICB2aWRlby5sb2FkKCkKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmnKrojrflj5bliLDmlofku7YKICAgICAgICByZXN1bHQoMCwgMCkKICAgICAgfQogICAgfSwKICAgIC8vIOaYr+WQpuS4uuWbvueJhwogICAgaXNJbWFnZSAoZmlsZVBhdGgpIHsKICAgICAgLy8g5Zu+54mH5ZCO57yACiAgICAgIGNvbnN0IHR5cGVzID0gWydwbmcnLCAnanBnJywgJ2pwZWcnLCAnYm1wJywgJ2dpZicsICd3ZWJwJywgJ3BzZCcsICdzdmcnLCAndGlmZiddCiAgICAgIC8vIOaWh+S7tuWQjue8gAogICAgICBjb25zdCB0eXBlID0gdGhpcy5maWxlRXh0ZW5zaW9uKGZpbGVQYXRoKQogICAgICAvLyDmmK/lkKbljIXlkKsKICAgICAgcmV0dXJuIHR5cGVzLmluZGV4T2YodHlwZSkgIT09IC0xCiAgICB9LAogICAgLy8g5piv5ZCm5Li66KeG6aKRCiAgICBpc1ZpZGVvIChmaWxlUGF0aCkgewogICAgICAvLyDlm77niYflkI7nvIAKICAgICAgY29uc3QgdHlwZXMgPSBbJ2F2aScsICd3bXYnLCAnbXBnJywgJ21wZWcnLCAnbW92JywgJ3JtJywgJ3JhbScsICdzd2YnLCAnZmx2JywgJ21wNCcsICdtcDMnLCAnd21hJywgJ2F2aScsICdybScsICdybXZiJywgJ2ZsdicsICdtcGcnLCAnbWt2J10KICAgICAgLy8g5paH5Lu25ZCO57yACiAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmZpbGVFeHRlbnNpb24oZmlsZVBhdGgpCiAgICAgIC8vIOaYr+WQpuWMheWQqwogICAgICByZXR1cm4gdHlwZXMuaW5kZXhPZih0eXBlKSAhPT0gLTEKICAgIH0sCiAgICAvLyDojrflj5bmlofku7blkI7nvIDnsbvlnosKICAgIGZpbGVFeHRlbnNpb24gKGZpbGVQYXRoKSB7CiAgICAgIC8vIOiOt+WPluacgOWQjuS4gOS4qi7nmoTkvY3nva4KICAgICAgdmFyIGluZGV4PSBmaWxlUGF0aC5sYXN0SW5kZXhPZigiLiIpCiAgICAgIC8vIOiOt+WPluWQjue8gAogICAgICB2YXIgdHlwZSA9IGZpbGVQYXRoLnN1YnN0cihpbmRleCArIDEpCiAgICAgIC8vIOi/lOWbnuexu+WeiwogICAgICByZXR1cm4gdHlwZS50b0xvd2VyQ2FzZSgpCiAgICB9LAogICAgLy8g55Sf5oiQIFVVSUQKICAgIFVVSUQgKCkgewogICAgICAvLyDnlJ/miJDpmo/mnLrlrZfnrKbkuLIKICAgICAgZnVuY3Rpb24gUzQgKCkgeyByZXR1cm4gKCgoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpIH0KICAgICAgLy8g5ou85o6lCiAgICAgIHJldHVybiAoUzQoKSArIFM0KCkgKyAiLSIgKyBTNCgpICsgIi0iICsgUzQoKSArICItIiArIFM0KCkgKyAiLSIgKyBTNCgpICsgUzQoKSArIFM0KCkpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Upload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <!--  -->\n  <div class=\"upload-view\">\n    <!--  a-upload-dragger  -->\n    <a-upload-dragger\n      v-if=\"isDragger\"\n      :accept=\"accept\"\n      :multiple=\"multiple\"\n      :disabled=\"disabled\"\n      :showUploadList=\"showUploadList\"\n      :fileList=\"fileList\"\n      :beforeUpload=\"beforeUpload\"\n      :customRequest=\"customRequest\"\n      :remove=\"remove\"\n    >\n      <!--  -->\n      <slot name=\"up-slot\" :disabled=\"disabled\">\n        <!-- icon -->\n        <p class=\"ant-upload-drag-icon\">\n          <!--  icon -->\n          <slot name=\"up-icon\"><a-icon type=\"inbox\" /></slot>\n        </p>\n        <!--  -->\n        <p class=\"ant-upload-text\">\n          <!--  -->\n          <slot name=\"up-title\"></slot>\n        </p>\n        <!--  -->\n        <p class=\"ant-upload-hint\">\n          <!--  -->\n          <slot name=\"up-hint\"></slot>\n        </p>\n      </slot>\n    </a-upload-dragger>\n    <!--  a-upload  -->\n    <a-upload\n      v-else\n      :accept=\"accept\"\n      :multiple=\"multiple\"\n      :disabled=\"disabled\"\n      :showUploadList=\"showUploadList\"\n      :fileList=\"fileList\"\n      :beforeUpload=\"beforeUpload\"\n      :customRequest=\"customRequest\"\n      :remove=\"remove\"\n    >\n      <!--  -->\n      <slot name=\"up-slot\" :disabled=\"disabled\">\n        <!--  -->\n        <a-button :disabled=\"disabled\">\n          <!--  icon -->\n          <slot name=\"up-icon\"><a-icon type=\"upload\" /></slot>\n          <!--  -->\n          <slot name=\"up-title\"></slot>\n        </a-button>\n      </slot>\n    </a-upload>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n\n    // ===============================  - a-upload  ========\n\n    // \n    // (false:  a-upload true:  a-upload-dragger )\n    isDragger: {\n      type: Boolean,\n      default: () => false\n    },\n    //  \n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers\n    // 'audio/*'\n    // 'video/*'\n    // 'image/*'\n    // \n    accept: {\n      type: String,\n      default: () => undefined\n    },\n    // \n    // \n    // [{\n    //   uid: '',\n    //   name: '',\n    //   // uploading()done()error()removed()\n    //   status: '',\n    //   url: '',\n    //   dupid: '(file.lastModified)',\n    //   upid: '',\n    //    beforeUploadPro  fileJson \n    // }]\n    fileList: {\n      type: Array,\n      default: () => []\n    },\n    // \n    showUploadList: {\n      type: Boolean,\n      default: () => true\n    },\n    // ie10+  ctrl \n    multiple: {\n      type: Boolean,\n      default: () => true\n    },\n    // \n    disabled: {\n      type: Boolean,\n      default: () => false\n    },\n    //  false \n    // (file, fileList, fileJson) => boolean || Promise\n    beforeUploadPro: {\n      type: Function,\n      default: undefined\n    },\n    // \n    // (data, fileJson, (isSuccess) => {}) => {}\n    customRequestPro: {\n      type: Function,\n      default: undefined\n    },\n    //  false \n    // (file) => boolean || Promise\n    removePro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  -  ========\n\n    // \n    // 0 -> \n    // 1 -> \n    // 2 -> \n    fileCheckMode: {\n      type: Number,\n      default: () => 2\n    },\n\n    // ===============================  -  ========\n\n    // :\n    // 0 ->  uploadId  \n    // 1 -> \n    // \n    errorMode: {\n      type: Number,\n      default: () => 1\n    },\n    // uploadId errorMode  1 \n    errorUploadIds: {\n      type: Array,\n      default: () => []\n    },\n\n    // ===============================  -  ========\n\n    // 0 -> \n    fileNumber: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    fileNumberError: {\n      type: String,\n      default: () => ''\n    },\n    //  fileRepeatError\n    // (file, fileList, uploadId) => {}\n    // uploadIdIDID\n    fileNumberErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  -  ========\n\n    // : \n    // 0 -> \n    // 1 -> ()\n    // 2 -> ()\n    fileRepeatMode: {\n      type: Number,\n      default: () => 2\n    },\n    // \n    fileRepeatError: {\n      type: String,\n      default: () => ''\n    },\n    //  fileRepeatError\n    // (file, fileList, uploadId, repeatFiles) => {}\n    // uploadIdIDID\n    // repeatFiles: \n    fileRepeatErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  -  ========\n    \n    //  kb: \n    // 0 -> \n    // 1 -> \n    // 2 -> \n    // 3 -> \n    // 11 -> \n    // 22 -> \n    kbCompareMode: {\n      type: Number,\n      default: () => 0\n    },\n    //  kb\n    kbCompareSize: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    kbCompareError: {\n      type: String,\n      default: () => ''\n    },\n    //  kbCompareError\n    // (file, fileList, uploadId) => {}\n    // uploadIdIDID\n    kbCompareErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  -  ========\n\n    //  px: \n    // 0 -> \n    // 1 -> \n    // 2 -> \n    // 3 -> \n    // 11 -> \n    // 22 -> \n    imgSizeMode: {\n      type: Number,\n      default: () => 0\n    },\n    //  px\n    imgSizeWidth: {\n      type: Number,\n      default: () => 0\n    },\n    //  px\n    imgSizeHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    imgSizeError: {\n      type: String,\n      default: () => ''\n    },\n    //  imgSizeError\n    // (file, fileList, uploadId) => {}\n    // uploadIdIDID\n    imgSizeErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  -  ========\n\n    //  px: \n    // 0 -> \n    // 1 -> \n    imgScaleMode: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    imgScaleWidth: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    imgScaleHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    imgScaleError: {\n      type: String,\n      default: () => ''\n    },\n    //  imgScaleError\n    // (file, fileList, uploadId) => {}\n    // uploadIdIDID\n    imgScaleErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  -  ========\n\n    //  px: \n    // 0 -> \n    // 1 -> \n    // 2 -> \n    // 3 -> \n    // 11 -> \n    // 22 -> \n    videSizeMode: {\n      type: Number,\n      default: () => 0\n    },\n    //  px\n    videSizeWidth: {\n      type: Number,\n      default: () => 0\n    },\n    //  px\n    videSizeHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    videSizeError: {\n      type: String,\n      default: () => ''\n    },\n    //  videSizeError\n    // (file, fileList, uploadId) => {}\n    // uploadIdIDID\n    videSizeErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  -  ========\n\n    //  px: \n    // 0 -> \n    // 1 -> \n    videScaleMode: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    videScaleWidth: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    videScaleHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // \n    videScaleError: {\n      type: String,\n      default: () => ''\n    },\n    //  videScaleError\n    // (file, fileList, uploadId) => {}\n    // uploadIdIDID\n    videScaleErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // ===============================  ========\n\n    //  fileJson.status \n    // (fileJson, err || res) => {}\n    uploadResult: {\n      type: Function,\n      default: undefined\n    }\n  },\n  methods: {\n    // \n    customRequest (data) {\n      // \n      const fileJson = this.fileList.find(item => {\n        return data.file.uid === item.uid\n      })\n      // \n      if (this.customRequestPro) {\n        //  \n        this.customRequestPro(data, fileJson, (isSuccess) => {\n          // uploading()done()error()\n          const status = isSuccess ? 'done' : 'error'\n          this.customRequestResult(fileJson, status)\n        })\n      } else {\n        this.showError(' customRequestPro ')\n        //  fileJson.status \n        // if (this.uploadResult) { this.uploadResult(fileJson, err || res) }\n        // ( funcation  js )\n        \n        // ()\n        //  file  fileJson \n        // fileJson.file = data.file\n        // \n        // this.uploadCustom(fileJson, this.uploadResult)\n      }\n    },\n    // ()\n    // uploadCustom (fileJson, uploadResult) {\n    //   // \n    //   if (fileJson.file) {\n    //     // \n    //     fileJson.status = 'uploading'\n    //     // \n    //     fileJson.percent = 0\n    //     // \n    //     const observer = {\n    //       next (res) {\n    //         // \n    //         // console.log('', res)\n    //         // \n    //         fileJson.percent = res.total.percent\n    //       },\n    //       error (err) {\n    //         // \n    //         // console.log('', err)\n    //         // \n    //         fileJson.status = 'error'\n    //         // \n    //         if (uploadResult) { uploadResult(fileJson, err) }\n    //       },\n    //       complete (res) {\n    //         // \n    //         // console.log('', res)\n    //         // \n    //         fileJson.status = 'done'\n    //         //  file \n    //         fileJson.file = undefined\n    //         // \n    //         if (uploadResult) { uploadResult(fileJson, res) }\n    //       }\n    //     }\n    //     // \n    //     if (uploadResult) { uploadResult(fileJson) }\n    //     // \n    //     uploadOther(fileJson.file, observer)\n    //   }\n    // },\n    // \n    beforeUpload (file, fileList) {\n      // \n      return new Promise((resolve, reject) => {\n\n        // -----------------------------  - ID --------\n\n        // ID file ID\n        var uploadId = file.uploadId\n        // ID\n        if (!uploadId) { \n          // ID\n          uploadId = this.getUploadId()\n          // \n          fileList.forEach(item => {\n            item.uploadId = uploadId\n          })\n        }\n\n        // -----------------------------  -  --------\n\n        // \n        if (this.fileNumber !== 0) {\n          // \n          const total = this.fileList.length + fileList.length\n          // \n          if (total > this.fileNumber) {\n            // \n            if (!this.isExistErrorUploadId(uploadId)) {\n              // \n              if (this.fileNumberErrorPro) {\n                // \n                this.fileNumberErrorPro(file, fileList, uploadId)\n              } else {\n                // \n                if (this.fileNumberError) { this.showError(this.fileNumberError) }\n              }\n            }\n            // \n            reject(new Error())\n            return\n          }\n        }\n\n        // -----------------------------  -  --------\n\n        // \n        const fileJson = {\n          // \n          uid: file.uid,\n          // \n          name: file.name,\n          // uploading()done()error()\n          status: 'uploading',\n          // \n          dupid: file.lastModified,\n          // ID()\n          upid: uploadId\n          // \n        }\n\n        //  - \n        if (this.fileCheckMode !== 0) {\n          // \n          if (this.fileCheckMode === 1) {\n            // \n            this.fileCheck(file, fileList, uploadId).then(() => {\n              //   \n              this.beforeUploadProEnd(file, fileList, fileJson, resolve, reject)\n            }).catch(() => {\n              // \n              reject(new Error())\n            })\n          } else if (this.fileCheckMode === 2) {\n            // \n            // Promise \n            const ps = []\n            //  Promise\n            fileList.forEach(item => {\n              ps.push(this.fileCheck(item, fileList, uploadId))\n            })\n            // \n            Promise.all(ps).then(() => {\n              //   \n              this.beforeUploadProEnd(file, fileList, fileJson, resolve, reject)\n            }).catch(() => {\n              // \n              reject(new Error())\n            })\n          } else {\n            //   \n            this.beforeUploadProEnd(file, fileList, fileJson, resolve, reject)\n          }\n        } else {\n          //   \n          this.beforeUploadProEnd(file, fileList, fileJson, resolve, reject)\n        }\n      })\n    },\n    //  -  \n    beforeUploadProEnd (file, fileList, fileJson, resolve, reject) {\n      //  \n      this.beforeUploadProReady(file, fileList, fileJson).then(() => {\n        // \n        this.fileList.push(fileJson)\n        // \n        resolve()\n      }).catch(() => {\n        // \n        reject(new Error())\n      })\n    },\n    //  -  \n    beforeUploadProReady (file, fileList, fileJson) {\n      // \n      return new Promise((resolve, reject) => {\n        // \n        if (this.beforeUploadPro) {\n          // \n          const p = this.beforeUploadPro(file, fileList, fileJson)\n          // \n          if (typeof(p) === 'boolean') {\n            //  Boolean\n            if (p) {\n              // \n              resolve()\n            } else {\n              // \n              reject(new Error())\n            }\n          } else if (!!p && (typeof(p) === 'object' || typeof obj === 'function') && typeof(p.then) === 'function') {\n            //  Promise\n            p.then(() => {\n              // \n              resolve()\n            }).catch(() => {\n              // \n              reject(new Error())\n            })\n          }\n        } else {\n          // \n          resolve()\n        }\n      })\n    },\n    // \n    remove (file) {\n      // \n      return new Promise((resolve, reject) => {\n        // \n        if (this.removePro) {\n          // \n          const p = this.removePro(file)\n          // \n          if (typeof(p) === 'boolean') {\n            //  Boolean\n            if (p) {\n              // \n              const index = this.fileList.indexOf(file)\n              this.fileList.splice(index, 1)\n              // \n              resolve()\n            } else {\n              // \n              reject(new Error())\n            }\n          } else if (!!p && (typeof(p) === 'object' || typeof obj === 'function') && typeof(p.then) === 'function') {\n            //  Promise\n            p.then(() => {\n              // \n              const index = this.fileList.indexOf(file)\n              this.fileList.splice(index, 1)\n              // \n              resolve()\n            }).catch(() => {\n              // \n              reject(new Error())\n            })\n          }\n        } else {\n          // \n          const index = this.fileList.indexOf(file)\n          this.fileList.splice(index, 1)\n          // \n          resolve()\n        }\n      })\n    },\n    //  - \n    fileCheck (file, fileList, uploadId) {\n      // \n      return new Promise((resolve, reject) => {\n\n        // -----------------------------  -  --------\n\n        // \n        if (this.fileRepeatMode !== 0) {\n          // \n          const repeatFiles = []\n          fileList.forEach(itemOne => {\n            this.fileList.some(itemTwo => {\n              //   &&  && ID\n              const isRepeat = itemOne.name === itemTwo.name && itemOne.lastModified === itemTwo.dupid && uploadId !== itemTwo.upid\n              if (isRepeat) { repeatFiles.push(itemOne) }\n              return isRepeat\n            })\n          })\n          // \n          if (this.fileRepeatMode === 1) {\n            // ()\n            const isRepeat = this.fileList.some(item => {\n              return file.name === item.name && file.lastModified === item.dupid\n            })\n            // \n            if (isRepeat) {\n              // \n              if (!this.isExistErrorUploadId(uploadId)) {\n                // \n                if (this.fileRepeatErrorPro) {\n                  // \n                  this.fileRepeatErrorPro(file, fileList, uploadId, repeatFiles)\n                } else {\n                  // \n                  if (this.fileRepeatError) { this.showError(this.fileRepeatError) }\n                }\n              }\n              // \n              reject(new Error())\n              return\n            }\n          } else if (this.fileRepeatMode === 2) {\n            // ()\n            const isRepeat = Boolean(repeatFiles.length)\n            // \n            if (isRepeat) {\n              // \n              if (!this.isExistErrorUploadId(uploadId)) {\n                // \n                if (this.fileRepeatErrorPro) {\n                  // \n                  this.fileRepeatErrorPro(file, fileList, uploadId, repeatFiles)\n                } else {\n                  // \n                  if (this.fileRepeatError) { this.showError(this.fileRepeatError) }\n                }\n              }\n              // \n              reject(new Error())\n              return\n            }\n          }\n        }\n\n        // -----------------------------  -  --------\n      \n        //  - \n        if (this.kbCompareMode !== 0) {\n          // \n          var isOK = true\n          // kb\n          const fileSize = file.size / 1024\n          // \n          if (this.kbCompareMode === 1) {\n            // \n            isOK = fileSize < this.kbCompareSize\n          } else if (this.kbCompareMode === 2) {\n            // \n            isOK = fileSize > this.kbCompareSize\n          } else if (this.kbCompareMode === 3) {\n            // \n            isOK = fileSize === this.kbCompareSize\n          } else if (this.kbCompareMode === 11) {\n            // \n            isOK = fileSize <= this.kbCompareSize\n          } else if (this.kbCompareMode === 22) {\n            // \n            isOK = fileSize >= this.kbCompareSize\n          } else {}\n          // \n          if (!isOK) {\n            // \n            if (!this.isExistErrorUploadId(uploadId)) {\n              // \n              if (this.kbCompareErrorPro) {\n                // \n                this.kbCompareErrorPro(file, fileList, uploadId)\n              } else {\n                // \n                if (this.kbCompareError) { this.showError(this.kbCompareError) }\n              }\n            }\n            // \n            reject(new Error())\n            return\n          }\n        }\n\n        // -----------------------------  -  -  --------\n\n        // \n        if ((this.imgSizeMode !== 0 || this.imgScaleMode !== 0) && this.isImage(file.name)) {\n          // \n          this.imageSize(file, (imgWidth, imgHeight) => {\n            //  - \n            if (this.imgSizeMode !== 0) {\n              // \n              var isOK = true\n              // \n              if (this.imgSizeMode === 1) {\n                // \n                isOK = (imgWidth < this.imgSizeWidth && imgHeight < this.imgSizeHeight)\n              } else if (this.kbCompareMode === 2) {\n                // \n                isOK = (imgWidth > this.imgSizeWidth && imgHeight > this.imgSizeHeight)\n              } else if (this.imgSizeMode === 3) {\n                // \n                isOK = (imgWidth === this.imgSizeWidth && imgHeight === this.imgSizeHeight)\n              } else if (this.imgSizeMode === 11) {\n                // \n                isOK = (imgWidth <= this.imgSizeWidth && imgHeight <= this.imgSizeHeight)\n              } else if (this.imgSizeMode === 22) {\n                // \n                isOK = (imgWidth >= this.imgSizeWidth && imgHeight >= this.imgSizeHeight)\n              } else {}\n              // \n              if (!isOK) {\n                // \n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // \n                  if (this.imgSizeErrorPro) {\n                    // \n                    this.imgSizeErrorPro(file, fileList, uploadId)\n                  } else {\n                    // \n                    if (this.imgSizeError) { this.showError(this.imgSizeError) }\n                  }\n                }\n                // \n                reject(new Error())\n                return\n              }\n            }\n            //  - \n            if (this.imgScaleMode !== 0) {\n              // \n              var isWidth = (imgWidth % this.imgScaleWidth) === 0\n              var isHeight = (imgHeight % this.imgScaleHeight) === 0\n              // \n              if (!isWidth && !isHeight) {\n                // \n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // \n                  if (this.imgScaleErrorPro) {\n                    // \n                    this.imgScaleErrorPro(file, fileList, uploadId)\n                  } else {\n                    // \n                    if (this.imgScaleError) { this.showError(this.imgScaleError) }\n                  }\n                }\n                // \n                reject(new Error())\n                return\n              }\n            }\n            // \n            resolve()\n          })\n          // \n          return\n        }\n\n        // -----------------------------  -  -  --------\n\n        // \n        if ((this.videSizeMode !== 0 || this.videScaleMode !== 0) && this.isVideo(file.name)) {\n          // \n          this.videoSize(file, (videoWidth, videoHeight) => {\n            //  - \n            if (this.videSizeMode !== 0) {\n              // \n              var isOK = true\n              // \n              if (this.videSizeMode === 1) {\n                // \n                isOK = (videoWidth < this.videSizeWidth && videoHeight < this.videSizeHeight)\n              } else if (this.videSizeMode === 2) {\n                // \n                isOK = (videoWidth > this.videSizeWidth && videoHeight > this.videSizeHeight)\n              } else if (this.videSizeMode === 3) {\n                // \n                isOK = (videoWidth === this.videSizeWidth && videoHeight === this.videSizeHeight)\n              } else if (this.videSizeMode === 11) {\n                // \n                isOK = (videoWidth <= this.videSizeWidth && videoHeight <= this.videSizeHeight)\n              } else if (this.videSizeMode === 22) {\n                // \n                isOK = (videoWidth >= this.videSizeWidth && videoHeight >= this.videSizeHeight)\n              } else {}\n              // \n              if (!isOK) {\n                // \n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // \n                  if (this.videSizeErrorPro) {\n                    // \n                    this.videSizeErrorPro(file, fileList, uploadId)\n                  } else {\n                    // \n                    if (this.videSizeError) { this.$message.error(this.videSizeError) }\n                  }\n                }\n                // \n                reject(new Error())\n                return\n              }\n            }\n            //  - \n            if (this.videScaleMode !== 0) {\n              // \n              var isWidth = (videoWidth % this.videScaleWidth) === 0\n              var isHeight = (videoHeight % this.videScaleHeight) === 0\n              // \n              if (!isWidth && !isHeight) {\n                // \n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // \n                  if (this.videScaleErrorPro) {\n                    // \n                    this.videScaleErrorPro(file, fileList, uploadId)\n                  } else {\n                    // \n                    if (this.videScaleError) { this.$message.error(this.videScaleError) }\n                  }\n                }\n                // \n                reject(new Error())\n                return\n              }\n            }\n            // \n            resolve()\n          })\n          // \n          return\n        }\n\n        // -----------------------------  --------\n\n        // \n        resolve()\n      })\n    },\n    // \n    showError (message) {\n      // \n      this.$message.error(message)\n    },\n    // \n    customRequestResult (fileJson, status) {\n      // \n      fileJson.status = status\n    },\n    // ID\n    getUploadId () {\n      // \n      return this.UUID()\n    },\n    //  uploadId\n    isExistErrorUploadId (uploadId) {\n      // \n      if (this.errorMode === 1) {\n        const index = this.errorUploadIds.indexOf(uploadId)\n        const isExist = index !== -1\n        if (!isExist) {\n          this.errorUploadIds.push(uploadId)\n        }\n        return isExist\n      }\n      // \n      return false\n    },\n    // \n    imageSize (file, result) {\n      // \n      if (file) {\n        //  FileReader\n        var reader = new FileReader()\n        // \n        reader.onload = (e) => {\n          //  base64 \n          var imgData = e.target.result\n          // Image base64 \n          var image = new Image()\n          // \n          image.onload = () => {\n            // \n            result(image.width, image.height)\n          }\n          // \n          image.src = imgData\n        }\n        // \n        reader.readAsDataURL(file)\n      } else {\n        // \n        result(0, 0)\n      }\n    },\n    // \n    videoSize (file, result) {\n      // \n      if (file) {\n        // URL\n        const url = URL.createObjectURL(file)\n        // \n        const video = document.createElement('video')\n        // \n        video.onloadedmetadata = evt => {\n          // \n          URL.revokeObjectURL(url)\n          // \n          result(video.videoWidth, video.videoHeight)\n        }\n        // \n        video.src = url\n        // \n        video.load()\n      } else {\n        // \n        result(0, 0)\n      }\n    },\n    // \n    isImage (filePath) {\n      // \n      const types = ['png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff']\n      // \n      const type = this.fileExtension(filePath)\n      // \n      return types.indexOf(type) !== -1\n    },\n    // \n    isVideo (filePath) {\n      // \n      const types = ['avi', 'wmv', 'mpg', 'mpeg', 'mov', 'rm', 'ram', 'swf', 'flv', 'mp4', 'mp3', 'wma', 'avi', 'rm', 'rmvb', 'flv', 'mpg', 'mkv']\n      // \n      const type = this.fileExtension(filePath)\n      // \n      return types.indexOf(type) !== -1\n    },\n    // \n    fileExtension (filePath) {\n      // .\n      var index= filePath.lastIndexOf(\".\")\n      // \n      var type = filePath.substr(index + 1)\n      // \n      return type.toLowerCase()\n    },\n    //  UUID\n    UUID () {\n      // \n      function S4 () { return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1) }\n      // \n      return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4())\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"]}]}