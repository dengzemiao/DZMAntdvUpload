{"remainingRequest":"/Users/dengzemiao/Desktop/share/upload-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dengzemiao/Desktop/share/upload-demo/src/components/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dengzemiao/Desktop/share/upload-demo/src/components/Upload.vue","mtime":1614654518816},{"path":"/Users/dengzemiao/Desktop/share/upload-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dengzemiao/Desktop/share/upload-demo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dengzemiao/Desktop/share/upload-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dengzemiao/Desktop/share/upload-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5Y6f55Sf5bGe5oCnIC0gYS11cGxvYWQg6Ieq5bim5bGe5oCn5omp5bGVID09PT09PT09CgogICAgLy8g5o6l5Y+X5LiK5Lyg55qE5paH5Lu257G75Z6LIAogICAgLy8g5Y+C6ICD5Zyw5Z2A77yaaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lucHV0L2ZpbGUjdW5pcXVlX2ZpbGVfdHlwZV9zcGVjaWZpZXJzCiAgICAvLyDpn7PpopHvvJonYXVkaW8vKicKICAgIC8vIOinhumike+8mid2aWRlby8qJwogICAgLy8g5Zu+54mH77yaJ2ltYWdlLyonCiAgICAvLyDnibnmrorljLnphY3oh6rooYzkvKDlhaXmraPliJkKICAgIGFjY2VwdDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHVuZGVmaW5lZAogICAgfSwKICAgIC8vIOW3sue7j+S4iuS8oOeahOaWh+S7tuWIl+ihqO+8iOWPl+aOp++8iQogICAgLy8g5paH5Lu25qGI5L6L77yaCiAgICAvLyBbewogICAgLy8gICB1aWQ6ICflv4XluKbvvIzmlofku7bllK/kuIDmoIfor4YnLAogICAgLy8gICBuYW1lOiAn5b+F5bim77yM5paH5Lu25ZCNJywKICAgIC8vICAgLy8gdXBsb2FkaW5nKOS4iuS8oOS4rSnjgIFkb25lKOS4iuS8oOaIkOWKnynjgIFlcnJvcijkuIrkvKDlpLHotKUp44CBcmVtb3ZlZCjnp7vpmaTvvIzngrnlh7vnu4Tku7boh6rluKbnmoTliKDpmaTmjInpkq7kvJrooqvorr7nva7kuLrnp7vpmaTnirbmgIHvvIzpgJrluLjlj6rpnIDopoHliY3kuInnp43nirbmgIEpCiAgICAvLyAgIHN0YXR1czogJ+W/heW4pu+8jOS4iuS8oOeKtuaAgScsCiAgICAvLyAgIGR1cGlkOiAn5Y+v6YCJ77yM6Ziy5q2i6YeN5aSN5paH5Lu25qCH6K+GKGZpbGUubGFzdE1vZGlmaWVkKScsCiAgICAvLyAgIHVwaWQ6ICflj6/pgInvvIzmnKzova7kuIrkvKDllK/kuIDmoIfor4bvvIzmj5DkuqTmnI3liqHlmajml7blj6/liZTpmaQnLAogICAgLy8gICDlpoLmnpzpnIDopoHku4DkuYjlhbbku5blrZfmrrXmiJbovoXliqnlrZfmrrXvvIzlj6/ku6Xoh6rooYzmt7vliqDvvIzmiJbogIXpgJrov4fmi6bmiKogYmVmb3JlVXBsb2FkUHJvIOaLv+WIsCBmaWxlSnNvbiDoh6rooYzpmYTluKYKICAgIC8vIH1dCiAgICBmaWxlTGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICAvLyDmmK/lkKblsZXnpLrkuIrkvKDliJfooagKICAgIHNob3dVcGxvYWRMaXN0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6ICgpID0+IHRydWUKICAgIH0sCiAgICAvLyDmmK/lkKbmlK/mjIHlpJrpgInmlofku7bvvIxpZTEwKyDmlK/mjIHjgILlvIDlkK/lkI7mjInkvY8gY3RybCDlj6/pgInmi6nlpJrkuKrmlofku7bjgIIKICAgIG11bHRpcGxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6ICgpID0+IHRydWUKICAgIH0sCiAgICAvLyDmmK/lkKbnpoHnlKgKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6ICgpID0+IGZhbHNlCiAgICB9LAogICAgLy8g5YeG5aSH5LiK5Lyg77yM5Zue6LCD6ZKp5a2Q77yM6Iul6L+U5ZueIGZhbHNlIOWImeWBnOatouS4iuS8oAogICAgLy8g57G75Z6L77yaKGZpbGUsIGZpbGVMaXN0LCBmaWxlSnNvbikgPT4gYm9vbGVhbiB8fCBQcm9taXNlCiAgICBiZWZvcmVVcGxvYWRQcm86IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIC8vIOiHquWumuS5ieS4iuS8oO+8jOWbnuiwg+mSqeWtkO+8jOWPr+S7peiHquWumuS5ieiHquW3seeahOS4iuS8oOWunueOsO+8jAogICAgLy8g57G75Z6L77yaKGRhdGEsIGZpbGVKc29uLCAoaXNTdWNjZXNzKSA9PiB7fSkgPT4ge30KICAgIGN1c3RvbVJlcXVlc3RQcm86IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIC8vIOeCueWHu+enu+mZpOaWh+S7tuaXtueahOWbnuiwg++8jOi/lOWbnuWAvOS4uiBmYWxzZSDml7bkuI3np7vpmaQKICAgIC8vIOexu+Wei++8mihmaWxlKSA9PiBib29sZWFuIHx8IFByb21pc2UKICAgIHJlbW92ZVBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5YWs55So5qOA5rWLIC0g5paH5Lu26YeN5aSNID09PT09PT09CgogICAgLy8g5paH5Lu26YeN5aSN5qOA5rWL5qih5byPOiAKICAgIC8vIDAgLT4g5YWB6K646YeN5aSNCiAgICAvLyAxIC0+IOemgeatoumHjeWkjeaWh+S7tijlpJrpgInmqKHlvI/vvJrmnKzmrKHpgInmi6nnmoTmiYDmnInmlofku7bvvIzph43lpI3mlofku7bnp7vpmaTvvIzkuI3ph43lpI3mlofku7bkuIrkvKApCiAgICAvLyAyIC0+IOemgeatoumHjeWkjeaWh+S7tijlpJrpgInmqKHlvI/vvJrmnKzmrKHpgInmi6nnmoTmiYDmnInmlofku7bvvIzmnInkuIDkuKrlrZjlnKjph43lpI3vvIzlhajpg6jnp7vpmaQpCiAgICBmaWxlUmVwZWF0TW9kZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDIKICAgIH0sCiAgICAvLyDmlofku7bph43lpI3mo4DmtYvlpLHotKXmj5DnpLoKICAgIGZpbGVSZXBlYXRFcnJvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICfkuI3og73ph43lpI3lr7zlhaXmlofku7YnCiAgICB9LAogICAgLy8g5paH5Lu26YeN5aSN5qOA5rWL5aSx6LSl5o+Q56S677yM5a6e546w6L+Z5Liq5bCG5LiN5L2/55SoIGZpbGVSZXBlYXRFcnJvcgogICAgLy8g57G75Z6L77yaKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCwgcmVwZWF0RmlsZXMpID0+IHt9CiAgICAvLyB1cGxvYWRJZO+8muacrOasoeS4iuS8oOaTjeS9nOWUr+S4gElE77yM5aSa6YCJ5paH5Lu25qih5byP5Y+v6YCa6L+H6K+l5ZSv5LiASUTlj6rmmL7npLrkuIDmrKHplJnor68KICAgIC8vIHJlcGVhdEZpbGVzOiDph43lpI3mlofku7bliJfooagKICAgIGZpbGVSZXBlYXRFcnJvclBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5YWs55So5qOA5rWLIC0g5qOA5rWL6ZSZ6K+v5o6n5Yi2ID09PT09PT09CgogICAgLy8g5q+P6L2u5paH5Lu25LiK5Lyg5qOA5rWL6ZSZ6K+v5oqb5Ye65qih5byPOgogICAgLy8gMCAtPiDkuI3pmZDliLbvvIzmnInlpJrlsJHplJnor6/mraPluLjmipvlh7rvvIzlj6/ku6XpgJrov4fmr4/ova7nmoQgdXBsb2FkSWQg6Ieq6KGM5Yik5pat6YeN5aSN6Zeu6aKYIAogICAgLy8gMSAtPiDmnKzova7mo4DmtYvplJnor6/lj6rkvJrmipvlh7rkuIDmrKHvvIzlpoLmnpzmnKzova7mnInlpJrmrKHplJnor6/vvIzlj6rkvJrmipvlh7rnrKzkuIDmrKHnmoTplJnor6/vvIzlkI7nu63plJnor6/pg73kuI3kvJrlnKjmipvlh7oKICAgIC8vIOavj+i9ru+8muS5n+WwseaYr+avj+asoeeCueWHu+S4iuS8oOaMiemSrumAieaLqeaWh+S7tuWQjuehruWumuS4iuS8oOeul+S4gOi9ru+8jOS5n+aYr+acrOasoeaPkOS6pO+8iOWNlemAieWkmumAiemDveS4gOagt++8iQogICAgZXJyb3JNb2RlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMQogICAgfSwKICAgIC8vIOmUmeivr+WUr+S4gOagh+ivhu+8iHVwbG9hZElk77yJ5a2Y5pS+77yI5Y+q5Zyo5qih5byP5Li6IDIg5pe255Sf5pWI77yJCiAgICBlcnJvclVwbG9hZElkczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDlhaznlKjmo4DmtYsgLSDmlofku7bmo4DmtYsgPT09PT09PT0KCiAgICAvLyAo5aSa6YCJ5paH5Lu25qih5byP5LiL55Sf5pWIKeaWh+S7tuajgOa1i+aooeW8j++8mgogICAgLy8gMCAtPiDkuI3mo4DmtYsKICAgIC8vIDEgLT4g5pys5qyh6YCJ5oup55qE5omA5pyJ5paH5Lu277yM5qOA5rWL5aSx6LSl55qE56e76Zmk77yM5oiQ5Yqf55qE5LiK5LygCiAgICAvLyAyIC0+IOacrOasoemAieaLqeeahOaJgOacieaWh+S7tu+8jOacieS4gOS4quajgOa1i+Wksei0pe+8jOWFqOmDqOenu+mZpAogICAgZmlsZUNoZWNrTW9kZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDIKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDlhaznlKjmo4DmtYsgLSDmlofku7bmlbDph4/pmZDliLYgPT09PT09PT0KCiAgICAvLyDkuIrkvKDmlofku7bmlbDph4/pmZDliLbvvJowIC0+IOS4jemZkOWItu+8jOmaj+S+v+S8oAogICAgZmlsZU51bWJlcjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDkuIrkvKDmlofku7bmlbDph4/pmZDliLbmo4DmtYvlpLHotKXmj5DnpLoKICAgIGZpbGVOdW1iZXJFcnJvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICflt7LotoXlh7rkuIrkvKDmlofku7bmlbDph4/pmZDliLYnCiAgICB9LAogICAgLy8g5LiK5Lyg5paH5Lu25pWw6YeP6ZmQ5Yi25aSx6LSl5o+Q56S677yM5a6e546w6L+Z5Liq5bCG5LiN5L2/55SoIGZpbGVSZXBlYXRFcnJvcgogICAgLy8g57G75Z6L77yaKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkgPT4ge30KICAgIC8vIHVwbG9hZElk77ya5pys5qyh5LiK5Lyg5pON5L2c5ZSv5LiASUTvvIzlpJrpgInmlofku7bmqKHlvI/lj6/pgJrov4for6XllK/kuIBJROWPquaYvuekuuS4gOasoemUmeivrwogICAgZmlsZU51bWJlckVycm9yUHJvOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDlhaznlKjmo4DmtYsgLSDmlofku7blpKflsI8gPT09PT09PT0KICAgIAogICAgLy8g5paH5Lu25aSn5bCP5qOA5rWL5qih5byP77yI5Y2V5L2NIGti77yJOiAKICAgIC8vIDAgLT4g5YWz6ZetCiAgICAvLyAxIC0+IOWwj+S6jgogICAgLy8gMiAtPiDlpKfkuo4KICAgIC8vIDMgLT4g562J5LqOCiAgICAvLyAxMSAtPiDlsI/kuo7miJbnrYnkuo4KICAgIC8vIDIyIC0+IOWkp+S6juaIluetieS6jgogICAga2JDb21wYXJlTW9kZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDmlofku7blpKflsI/vvIjljZXkvY0ga2LvvIkKICAgIGtiQ29tcGFyZVNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5paH5Lu25aSn5bCP5qOA5rWL5aSx6LSl5o+Q56S6CiAgICBrYkNvbXBhcmVFcnJvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICfmlofku7blpKflsI/kuI7orr7lrprojIPlm7TkuI3ljLnphY0nCiAgICB9LAogICAgLy8g5paH5Lu25aSn5bCP5qOA5rWL5aSx6LSl5o+Q56S65Zue6LCD77yM5a6e546w6L+Z5Liq5bCG5LiN5L2/55SoIGtiQ29tcGFyZUVycm9yCiAgICAvLyDnsbvlnovvvJooZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKSA9PiB7fQogICAgLy8gdXBsb2FkSWTvvJrmnKzmrKHkuIrkvKDmk43kvZzllK/kuIBJRO+8jOWkmumAieaWh+S7tuaooeW8j+WPr+mAmui/h+ivpeWUr+S4gElE5Y+q5pi+56S65LiA5qyh6ZSZ6K+vCiAgICBrYkNvbXBhcmVFcnJvclBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5Zu+54mH5qOA5p+lIC0g5a696auY6ZmQ5Yi2ID09PT09PT09CgogICAgLy8g5Zu+54mH5a696auY5qOA5rWL5qih5byP77yI5Y2V5L2NIHB477yJOiAKICAgIC8vIDAgLT4g5YWz6ZetCiAgICAvLyAxIC0+IOWwj+S6jgogICAgLy8gMiAtPiDlpKfkuo4KICAgIC8vIDMgLT4g562J5LqOCiAgICAvLyAxMSAtPiDlsI/kuo7miJbnrYnkuo4KICAgIC8vIDIyIC0+IOWkp+S6juaIluetieS6jgogICAgaW1nU2l6ZU1vZGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAyCiAgICB9LAogICAgLy8g5Zu+54mH5a695bqm77yI5Y2V5L2NIHB477yJCiAgICBpbWdTaXplV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH6auY5bqm77yI5Y2V5L2NIHB477yJCiAgICBpbWdTaXplSGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOWbvueJh+WuvemrmOajgOa1i+Wksei0peaPkOekugogICAgaW1nU2l6ZUVycm9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogKCkgPT4gJ+WbvueJh+WuvemrmOS4juiuvuWumuWuvemrmOS4jeWMuemFjScKICAgIH0sCiAgICAvLyDlm77niYflrr3pq5jmo4DmtYvlpLHotKXmj5DnpLrlm57osIPvvIzlrp7njrDov5nkuKrlsIbkuI3kvb/nlKggaW1nU2l6ZUVycm9yCiAgICAvLyDnsbvlnovvvJooZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKSA9PiB7fQogICAgLy8gdXBsb2FkSWTvvJrmnKzmrKHkuIrkvKDmk43kvZzllK/kuIBJRO+8jOWkmumAieaWh+S7tuaooeW8j+WPr+mAmui/h+ivpeWUr+S4gElE5Y+q5pi+56S65LiA5qyh6ZSZ6K+vCiAgICBpbWdTaXplRXJyb3JQcm86IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IOWbvueJh+ajgOafpSAtIOavlOS+i+mZkOWItiA9PT09PT09PQoKICAgIC8vIOWbvueJh+avlOS+i+ajgOa1i+aooeW8j++8iOWNleS9jSBweO+8iTogCiAgICAvLyAwIC0+IOWFs+mXrQogICAgLy8gMSAtPiDlvIDlkK8KICAgIGltZ1NjYWxlTW9kZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYflrr3luqbmr5TkvosKICAgIGltZ1NjYWxlV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH6auY5bqm5q+U5L6LCiAgICBpbWdTY2FsZUhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYfmr5Tkvovmo4DmtYvlpLHotKXmj5DnpLoKICAgIGltZ1NjYWxlRXJyb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAoKSA9PiAn5Zu+54mH5q+U5L6L5LiO6K6+5a6a5q+U5L6L5LiN5Yy56YWNJwogICAgfSwKICAgIC8vIOWbvueJh+avlOS+i+ajgOa1i+Wksei0peaPkOekuuWbnuiwg++8jOWunueOsOi/meS4quWwhuS4jeS9v+eUqCBpbWdTY2FsZUVycm9yCiAgICAvLyDnsbvlnovvvJooZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKSA9PiB7fQogICAgLy8gdXBsb2FkSWTvvJrmnKzmrKHkuIrkvKDmk43kvZzllK/kuIBJRO+8jOWkmumAieaWh+S7tuaooeW8j+WPr+mAmui/h+ivpeWUr+S4gElE5Y+q5pi+56S65LiA5qyh6ZSZ6K+vCiAgICBpbWdTY2FsZUVycm9yUHJvOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDop4bpopHmo4Dmn6UgLSDlrr3pq5jpmZDliLYgPT09PT09PT0KCiAgICAvLyDlm77niYflrr3pq5jmo4DmtYvmqKHlvI/vvIjljZXkvY0gcHjvvIk6IAogICAgLy8gMCAtPiDlhbPpl60KICAgIC8vIDEgLT4g5bCP5LqOCiAgICAvLyAyIC0+IOWkp+S6jgogICAgLy8gMyAtPiDnrYnkuo4KICAgIC8vIDExIC0+IOWwj+S6juaIluetieS6jgogICAgLy8gMjIgLT4g5aSn5LqO5oiW562J5LqOCiAgICB2aWRlU2l6ZU1vZGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH5a695bqm77yI5Y2V5L2NIHB477yJCiAgICB2aWRlU2l6ZVdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOWbvueJh+mrmOW6pu+8iOWNleS9jSBweO+8iQogICAgdmlkZVNpemVIZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAoKSA9PiAwCiAgICB9LAogICAgLy8g5Zu+54mH5a696auY5qOA5rWL5aSx6LSl5o+Q56S6CiAgICB2aWRlU2l6ZUVycm9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogKCkgPT4gJ+inhumikeWuvemrmOS4juiuvuWumuWuvemrmOS4jeWMuemFjScKICAgIH0sCiAgICAvLyDlm77niYflrr3pq5jmo4DmtYvlpLHotKXmj5DnpLrlm57osIPvvIzlrp7njrDov5nkuKrlsIbkuI3kvb/nlKggdmlkZVNpemVFcnJvcgogICAgLy8g57G75Z6L77yaKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkgPT4ge30KICAgIC8vIHVwbG9hZElk77ya5pys5qyh5LiK5Lyg5pON5L2c5ZSv5LiASUTvvIzlpJrpgInmlofku7bmqKHlvI/lj6/pgJrov4for6XllK/kuIBJROWPquaYvuekuuS4gOasoemUmeivrwogICAgdmlkZVNpemVFcnJvclBybzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0g5Zu+54mH5qOA5p+lIC0g5q+U5L6L6ZmQ5Yi2ID09PT09PT09CgogICAgLy8g5Zu+54mH5q+U5L6L5qOA5rWL5qih5byP77yI5Y2V5L2NIHB477yJOiAKICAgIC8vIDAgLT4g5YWz6ZetCiAgICAvLyAxIC0+IOW8gOWQrwogICAgdmlkZVNjYWxlTW9kZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICAvLyDlm77niYflrr3luqbmr5TkvosKICAgIHZpZGVTY2FsZVdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOWbvueJh+mrmOW6puavlOS+iwogICAgdmlkZVNjYWxlSGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogKCkgPT4gMAogICAgfSwKICAgIC8vIOWbvueJh+avlOS+i+ajgOa1i+Wksei0peaPkOekugogICAgdmlkZVNjYWxlRXJyb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAoKSA9PiAn6KeG6aKR5q+U5L6L5LiO6K6+5a6a5q+U5L6L5LiN5Yy56YWNJwogICAgfSwKICAgIC8vIOWbvueJh+avlOS+i+ajgOa1i+Wksei0peaPkOekuuWbnuiwg++8jOWunueOsOi/meS4quWwhuS4jeS9v+eUqCB2aWRlU2NhbGVFcnJvcgogICAgLy8g57G75Z6L77yaKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkgPT4ge30KICAgIC8vIHVwbG9hZElk77ya5pys5qyh5LiK5Lyg5pON5L2c5ZSv5LiASUTvvIzlpJrpgInmlofku7bmqKHlvI/lj6/pgJrov4for6XllK/kuIBJROWPquaYvuekuuS4gOasoemUmeivrwogICAgdmlkZVNjYWxlRXJyb3JQcm86IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWHhuWkh+S4iuS8oAogICAgYmVmb3JlVXBsb2FkIChmaWxlLCBmaWxlTGlzdCkgewogICAgICAvLyDlvIDlp4vmo4DmtYsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAvLyDojrflj5bmnKzmrKHkuIrkvKDllK/kuIBJRAogICAgICAgIGNvbnN0IHVwbG9hZElkID0gdGhpcy5nZXRVcGxvYWRJZChmaWxlTGlzdCkKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5YWs55So5qOA5rWLIC0g5paH5Lu25pWw6YeP6ZmQ5Yi2IC0tLS0tLS0tCgogICAgICAgIC8vIOaAu+aWh+S7tuaVsOmHjwogICAgICAgIGlmICh0aGlzLmZpbGVOdW1iZXIgIT09IDApIHsKICAgICAgICAgIC8vIOaWh+S7tuaAu+aVsOmHjwogICAgICAgICAgY29uc3QgdG90YWwgPSB0aGlzLmZpbGVMaXN0Lmxlbmd0aCArIGZpbGVMaXN0Lmxlbmd0aAogICAgICAgICAgLy8g5aaC5p6c5paH5Lu25oC75pWw6YeP6LaF6L+H5paH5Lu26ZmQ5Yi25pWw6YeP5YiZ5YGc5q2i5LiK5LygCiAgICAgICAgICBpZiAodG90YWwgPiB0aGlzLmZpbGVOdW1iZXIpIHsKICAgICAgICAgICAgLy8g5piv5ZCm5YWB6K645oqb5Ye66ZSZ6K+vCiAgICAgICAgICAgIGlmICghdGhpcy5pc0V4aXN0RXJyb3JVcGxvYWRJZCh1cGxvYWRJZCkpIHsKICAgICAgICAgICAgICAvLyDmnInplJnor6/lm57osIMKICAgICAgICAgICAgICBpZiAodGhpcy5maWxlTnVtYmVyRXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgIC8vIOmUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgdGhpcy5maWxlTnVtYmVyRXJyb3JQcm8oZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDmnInplJnor6/mlofmoYgKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGVOdW1iZXJFcnJvcikgeyB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuZmlsZU51bWJlckVycm9yKSB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOS4jeWFgeiuuOS4iuS8oAogICAgICAgICAgICByZWplY3QoKQogICAgICAgICAgICByZXR1cm4KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOWFrOeUqOajgOa1iyAtIOaWh+S7tuajgOa1iyAtLS0tLS0tLQoKICAgICAgICAvLyDmlofku7blr7nosaEKICAgICAgICBjb25zdCBmaWxlSnNvbiA9IHsKICAgICAgICAgIC8vIOWUr+S4gOagh+ivhuespgogICAgICAgICAgdWlkOiBmaWxlLnVpZCwKICAgICAgICAgIC8vIOaWh+S7tuWQjQogICAgICAgICAgbmFtZTogZmlsZS5uYW1lLAogICAgICAgICAgLy8g5paH5Lu254q25oCB77yadXBsb2FkaW5nKOS4iuS8oOS4rSnjgIFkb25lKOS4iuS8oOaIkOWKnynjgIFlcnJvcijkuIrkvKDlpLHotKUpCiAgICAgICAgICBzdGF0dXM6ICd1cGxvYWRpbmcnLAogICAgICAgICAgLy8g6Ziy5q2i6YeN5aSN5qCH6K+GCiAgICAgICAgICBkdXBpZDogZmlsZS5sYXN0TW9kaWZpZWQsCiAgICAgICAgICAvLyDmnKzova7kuIrkvKBJRCjkuIrkvKDmnI3liqHlmajlj6/liZTpmaQpCiAgICAgICAgICB1cGlkOiB1cGxvYWRJZAogICAgICAgICAgLy8g5YW25LuW6Ieq55So5a2X5q615Y+v6Ieq6KGM6ZmE5bimCiAgICAgICAgfQoKICAgICAgICAvLyDmlofku7bmo4DmtYsgLSDlkIzmraUKICAgICAgICBpZiAodGhpcy5maWxlQ2hlY2tNb2RlICE9PSAwKSB7CiAgICAgICAgICAvLyDljLnphY3mo4DmtYvmqKHlvI8KICAgICAgICAgIGlmICh0aGlzLmZpbGVDaGVja01vZGUgPT09IDEpIHsKICAgICAgICAgICAgLy8g5pys5qyh6YCJ5oup55qE5omA5pyJ5paH5Lu277yM5qOA5rWL5aSx6LSl55qE56e76Zmk77yM5oiQ5Yqf55qE5LiK5LygCiAgICAgICAgICAgIHRoaXMuZmlsZUNoZWNrKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgLy8g5YeG5aSH5LiK5LygIOmihOWkhOeQhiAxCiAgICAgICAgICAgICAgdGhpcy5iZWZvcmVVcGxvYWRQcm9SZWFkeU9uZShmaWxlLCBmaWxlTGlzdCwgZmlsZUpzb24pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5Yqg5YWl5paH5Lu25YiX6KGoCiAgICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2goZmlsZUpzb24pCiAgICAgICAgICAgICAgICAvLyDlhYHorrjkuIrkvKAKICAgICAgICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgIC8vIOS4jeWFgeiuuOS4iuS8oAogICAgICAgICAgICAgICAgcmVqZWN0KCkKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgLy8g5LiN5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVqZWN0KCkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWxlQ2hlY2tNb2RlID09PSAyKSB7CiAgICAgICAgICAgIC8vIOacrOasoemAieaLqeeahOaJgOacieaWh+S7tu+8jOacieS4gOS4quajgOa1i+Wksei0pe+8jOWFqOmDqOenu+mZpAogICAgICAgICAgICAvLyBQcm9taXNlIOaVsOe7hAogICAgICAgICAgICBjb25zdCBwcyA9IFtdCiAgICAgICAgICAgIC8vIOWtmOaUviBQcm9taXNlCiAgICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgcHMucHVzaCh0aGlzLmZpbGVDaGVjayhpdGVtLCBmaWxlTGlzdCwgdXBsb2FkSWQpKQogICAgICAgICAgICB9KQogICAgICAgICAgICAvLyDlhajpg6jor7fmsYIKICAgICAgICAgICAgUHJvbWlzZS5hbGwocHMpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8vIOWHhuWkh+S4iuS8oCDpooTlpITnkIYgMQogICAgICAgICAgICAgIHRoaXMuYmVmb3JlVXBsb2FkUHJvUmVhZHlPbmUoZmlsZSwgZmlsZUxpc3QsIGZpbGVKc29uKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIC8vIOWKoOWFpeaWh+S7tuWIl+ihqAogICAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKGZpbGVKc29uKQogICAgICAgICAgICAgICAgLy8g5YWB6K645LiK5LygCiAgICAgICAgICAgICAgICByZXNvbHZlKCkKICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAvLyDkuI3lhYHorrjkuIrkvKAKICAgICAgICAgICAgICAgIHJlamVjdCgpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcxMTExJywgZXJyKQogICAgICAgICAgICAgIC8vIOS4jeWFgeiuuOS4iuS8oAogICAgICAgICAgICAgIHJlamVjdCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDliqDlhaXmlofku7bliJfooagKICAgICAgICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKGZpbGVKc29uKQogICAgICAgICAgICAvLyDlhYHorrjkuIrkvKAKICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWKoOWFpeaWh+S7tuWIl+ihqAogICAgICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKGZpbGVKc29uKQogICAgICAgICAgLy8g5YWB6K645LiK5LygCiAgICAgICAgICByZXNvbHZlKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5YeG5aSH5LiK5LygIC0g6aKE5aSE55CGIDEKICAgIGJlZm9yZVVwbG9hZFByb1JlYWR5T25lIChmaWxlLCBmaWxlTGlzdCwgZmlsZUpzb24pIHsKICAgICAgLy8g6aKE5aSE55CGCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOWHhuWkh+S4iuS8oCAtIOmihOWkhOeQhiAyIC0tLS0tLS0tCiAgICAgICAgCiAgICAgICAgLy8g5YeG5aSH5LiK5LygIOmihOWkhOeQhgogICAgICAgIHRoaXMuYmVmb3JlVXBsb2FkUHJvUmVhZHlUd28oZmlsZSwgZmlsZUxpc3QsIGZpbGVKc29uKS50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIOWFgeiuuOS4iuS8oAogICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgLy8g5LiN5YWB6K645LiK5LygCiAgICAgICAgICByZWplY3QoKQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgLy8g5YeG5aSH5LiK5LygIC0g6aKE5aSE55CGIDIKICAgIGJlZm9yZVVwbG9hZFByb1JlYWR5VHdvIChmaWxlLCBmaWxlTGlzdCwgZmlsZUpzb24pIHsKICAgICAgLy8g6aKE5aSE55CGCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgLy8g5aSW5Lyg5Zue6LCDCiAgICAgICAgaWYgKHRoaXMuYmVmb3JlVXBsb2FkUHJvKSB7CiAgICAgICAgICAvLyDojrflj5blm57osIPnu5PmnpwKICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmJlZm9yZVVwbG9hZFBybyhmaWxlLCBmaWxlTGlzdCwgZmlsZUpzb24pCiAgICAgICAgICAvLyDmo4DmtYvov5Tlm57nsbvlnosKICAgICAgICAgIGlmICh0eXBlb2YocCkgPT09ICdib29sZWFuJykgewogICAgICAgICAgICAvLyDmmK/lkKbkuLogQm9vbGVhbgogICAgICAgICAgICBpZiAocCkgewogICAgICAgICAgICAgIC8vIOWFgeiuuOS4iuS8oAogICAgICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIOS4jeWFgeiuuOS4iuS8oAogICAgICAgICAgICAgIHJlamVjdCgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoISFwICYmICh0eXBlb2YocCkgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpICYmIHR5cGVvZihwLnRoZW4pID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIC8vIOaYr+WQpuS4uiBQcm9taXNlCiAgICAgICAgICAgIHAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgLy8g5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAvLyDkuI3lhYHorrjkuIrkvKAKICAgICAgICAgICAgICByZWplY3QoKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlhYHorrjkuIrkvKAKICAgICAgICAgIHJlc29sdmUoKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDoh6rlrprkuYnkuIrkvKAKICAgIGN1c3RvbVJlcXVlc3QgKGRhdGEpIHsKICAgICAgLy8g5om+5Yiw5a+55bqU55qE5LiK5Lyg5paH5Lu25a+56LGhCiAgICAgIGNvbnN0IGZpbGVKc29uID0gdGhpcy5maWxlTGlzdC5maW5kKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBkYXRhLmZpbGUudWlkID09PSBpdGVtLnVpZAogICAgICB9KQogICAgICAvLyDoh6rlrprkuYnkuIrkvKDmnI3liqHlmagKICAgICAgaWYgKHRoaXMuY3VzdG9tUmVxdWVzdFBybykgewogICAgICAgIC8vIOiHquWumuS5ieivt+axgiAKICAgICAgICB0aGlzLmN1c3RvbVJlcXVlc3RQcm8oZGF0YSwgZmlsZUpzb24sIChpc1N1Y2Nlc3MpID0+IHsKICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGlzU3VjY2VzcyA/ICdkb25lJyA6ICdlcnJvcicKICAgICAgICAgIHRoaXMuY3VzdG9tUmVxdWVzdFJlc3VsdChmaWxlSnNvbiwgc3RhdHVzKQogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36Ieq5bex5a6e546wIGN1c3RvbVJlcXVlc3RQcm8g6Ieq5a6a5LmJ5LiK5Lyg5pON5L2c77yBJykKICAgICAgfQogICAgfSwKICAgIC8vIOeCueWHu+enu+mZpOaWh+S7tuaXtueahOWbnuiwgwogICAgcmVtb3ZlIChmaWxlKSB7CiAgICAgIC8vIOmihOWkhOeQhgogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIC8vIOWkluS8oOWbnuiwgwogICAgICAgIGlmICh0aGlzLnJlbW92ZVBybykgewogICAgICAgICAgLy8g6I635Y+W5Zue6LCD57uT5p6cCiAgICAgICAgICBjb25zdCBwID0gdGhpcy5yZW1vdmVQcm8oZmlsZSkKICAgICAgICAgIC8vIOajgOa1i+i/lOWbnuexu+WeiwogICAgICAgICAgaWYgKHR5cGVvZihwKSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICAgIC8vIOaYr+WQpuS4uiBCb29sZWFuCiAgICAgICAgICAgIGlmIChwKSB7CiAgICAgICAgICAgICAgLy8g5Yig6Zmk5paH5Lu2CiAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbGVMaXN0LmluZGV4T2YoZmlsZSkKICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0LnNwbGljZShpbmRleCwgMSkKICAgICAgICAgICAgICAvLyDlhYHorrjliKDpmaQKICAgICAgICAgICAgICByZXNvbHZlKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyDkuI3lhYHorrjliKDpmaQKICAgICAgICAgICAgICByZWplY3QoKQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKCEhcCAmJiAodHlwZW9mKHApID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSAmJiB0eXBlb2YocC50aGVuKSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAvLyDmmK/lkKbkuLogUHJvbWlzZQogICAgICAgICAgICBwLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8vIOWIoOmZpOaWh+S7tgogICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maWxlTGlzdC5pbmRleE9mKGZpbGUpCiAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgICAgICAgLy8g5YWB6K645LiK5LygCiAgICAgICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAvLyDkuI3lhYHorrjliKDpmaQKICAgICAgICAgICAgICByZWplY3QoKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDliKDpmaTmlofku7YKICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maWxlTGlzdC5pbmRleE9mKGZpbGUpCiAgICAgICAgICB0aGlzLmZpbGVMaXN0LnNwbGljZShpbmRleCwgMSkKICAgICAgICAgIC8vIOWFgeiuuOWIoOmZpAogICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIOaWh+S7tuajgOa1iyAtIOWQjOatpQogICAgZmlsZUNoZWNrIChmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpIHsKICAgICAgLy8g6aKE5aSE55CGCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOWFrOeUqOajgOa1iyAtIOaWh+S7tumHjeWkjSAtLS0tLS0tLQoKICAgICAgICAvLyDliKTmlq3ph43lpI3mlofku7YKICAgICAgICBpZiAodGhpcy5maWxlUmVwZWF0TW9kZSAhPT0gMCkgewogICAgICAgICAgLy8g6I635Y+W6YeN5aSN5YiX6KGoCiAgICAgICAgICBjb25zdCByZXBlYXRGaWxlcyA9IFtdCiAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGl0ZW1PbmUgPT4gewogICAgICAgICAgICB0aGlzLmZpbGVMaXN0LnNvbWUoaXRlbVR3byA9PiB7CiAgICAgICAgICAgICAgLy8g5qOA5rWL5Yiw6YeN5aSN5paH5Lu2IOWQjeensOebuOWQjCAmJiDmnIDlkI7kv67mlLnml7bpl7Tnm7jlkIwgJiYg5LiK5LygSUTkuI3nm7jlkIwKICAgICAgICAgICAgICBjb25zdCBpc1JlcGVhdCA9IGl0ZW1PbmUubmFtZSA9PT0gaXRlbVR3by5uYW1lICYmIGl0ZW1PbmUubGFzdE1vZGlmaWVkID09PSBpdGVtVHdvLmR1cGlkICYmIHVwbG9hZElkICE9PSBpdGVtVHdvLnVwaWQKICAgICAgICAgICAgICBpZiAoaXNSZXBlYXQpIHsgcmVwZWF0RmlsZXMucHVzaChpdGVtT25lKSB9CiAgICAgICAgICAgICAgcmV0dXJuIGlzUmVwZWF0CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgICAgLy8g5qC55o2u6YeN5aSN57G75Z6L5qOA5rWLCiAgICAgICAgICBpZiAodGhpcy5maWxlUmVwZWF0TW9kZSA9PT0gMSkgewogICAgICAgICAgICAvLyDnpoHmraLph43lpI3mlofku7Yo5aSa6YCJ5qih5byP77ya5pys5qyh6YCJ5oup55qE5omA5pyJ5paH5Lu277yM6YeN5aSN5paH5Lu256e76Zmk77yM5LiN6YeN5aSN5paH5Lu25LiK5LygKQogICAgICAgICAgICBjb25zdCBpc1JlcGVhdCA9IHRoaXMuZmlsZUxpc3Quc29tZShpdGVtID0+IHsKICAgICAgICAgICAgICByZXR1cm4gZmlsZS5uYW1lID09PSBpdGVtLm5hbWUgJiYgZmlsZS5sYXN0TW9kaWZpZWQgPT09IGl0ZW0uZHVwaWQKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8g5a2Y5Zyo6YeN5aSNCiAgICAgICAgICAgIGlmIChpc1JlcGVhdCkgewogICAgICAgICAgICAgIC8vIOaYr+WQpuWFgeiuuOaKm+WHuumUmeivrwogICAgICAgICAgICAgIGlmICghdGhpcy5pc0V4aXN0RXJyb3JVcGxvYWRJZCh1cGxvYWRJZCkpIHsKICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZVJlcGVhdEVycm9yUHJvKSB7CiAgICAgICAgICAgICAgICAgIC8vIOmUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgICB0aGlzLmZpbGVSZXBlYXRFcnJvclBybyhmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQsIHJlcGVhdEZpbGVzKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5paH5qGICiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGVSZXBlYXRFcnJvcikgeyB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuZmlsZVJlcGVhdEVycm9yKSB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIOajgOa1i+Wksei0pQogICAgICAgICAgICAgIHJlamVjdCgpCiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWxlUmVwZWF0TW9kZSA9PT0gMikgewogICAgICAgICAgICAvLyDnpoHmraLph43lpI3mlofku7Yo5aSa6YCJ5qih5byP77ya5pys5qyh6YCJ5oup55qE5omA5pyJ5paH5Lu277yM5pyJ5LiA5Liq5a2Y5Zyo6YeN5aSN77yM5YWo6YOo56e76ZmkKQogICAgICAgICAgICBjb25zdCBpc1JlcGVhdCA9IEJvb2xlYW4ocmVwZWF0RmlsZXMubGVuZ3RoKQogICAgICAgICAgICAvLyDlrZjlnKjph43lpI0KICAgICAgICAgICAgaWYgKGlzUmVwZWF0KSB7CiAgICAgICAgICAgICAgLy8g5piv5ZCm5YWB6K645oqb5Ye66ZSZ6K+vCiAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFcnJvclVwbG9hZElkKHVwbG9hZElkKSkgewogICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlUmVwZWF0RXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgICAgLy8g6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZVJlcGVhdEVycm9yUHJvKGZpbGUsIGZpbGVMaXN0LCB1cGxvYWRJZCwgcmVwZWF0RmlsZXMpCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyDmnInplJnor6/mlofmoYgKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZVJlcGVhdEVycm9yKSB7IHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy5maWxlUmVwZWF0RXJyb3IpIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgcmVqZWN0KCkKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5YWs55So5qOA5rWLIC0g5paH5Lu25aSn5bCPIC0tLS0tLS0tCiAgICAgIAogICAgICAgIC8vIOW8gOWQr+S6hiAtIOaWh+S7tuWkp+Wwj+ajgOa1iwogICAgICAgIGlmICh0aGlzLmtiQ29tcGFyZU1vZGUgIT09IDApIHsKICAgICAgICAgIC8vIOajgOa1i+e7k+aenAogICAgICAgICAgdmFyIGlzT0sgPSB0cnVlCiAgICAgICAgICAvLyDojrflj5bmlofku7blpKflsI/vvIjljZXkvY3vvJprYu+8iQogICAgICAgICAgY29uc3QgZmlsZVNpemUgPSBmaWxlLnNpemUgLyAxMDI0CiAgICAgICAgICAvLyDlvIDlp4vmo4DmtYsKICAgICAgICAgIGlmICh0aGlzLmtiQ29tcGFyZU1vZGUgPT09IDEpIHsKICAgICAgICAgICAgLy8g5bCP5LqOCiAgICAgICAgICAgIGlzT0sgPSBmaWxlU2l6ZSA8IHRoaXMua2JDb21wYXJlU2l6ZQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtiQ29tcGFyZU1vZGUgPT09IDIpIHsKICAgICAgICAgICAgLy8g5aSn5LqOCiAgICAgICAgICAgIGlzT0sgPSBmaWxlU2l6ZSA+IHRoaXMua2JDb21wYXJlU2l6ZQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtiQ29tcGFyZU1vZGUgPT09IDMpIHsKICAgICAgICAgICAgLy8g562J5LqOCiAgICAgICAgICAgIGlzT0sgPSBmaWxlU2l6ZSA9PT0gdGhpcy5rYkNvbXBhcmVTaXplCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMua2JDb21wYXJlTW9kZSA9PT0gMTEpIHsKICAgICAgICAgICAgLy8g5bCP5LqO562J5LqOCiAgICAgICAgICAgIGlzT0sgPSBmaWxlU2l6ZSA8PSB0aGlzLmtiQ29tcGFyZVNpemUKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5rYkNvbXBhcmVNb2RlID09PSAyMikgewogICAgICAgICAgICAvLyDlpKfkuo7nrYnkuo4KICAgICAgICAgICAgaXNPSyA9IGZpbGVTaXplID49IHRoaXMua2JDb21wYXJlU2l6ZQogICAgICAgICAgfSBlbHNlIHt9CiAgICAgICAgICAvLyDliKTmlq3mo4DmtYvnu5PmnpwKICAgICAgICAgIGlmICghaXNPSykgewogICAgICAgICAgICAvLyDmmK/lkKblhYHorrjmipvlh7rplJnor68KICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFcnJvclVwbG9hZElkKHVwbG9hZElkKSkgewogICAgICAgICAgICAgIC8vIOaciemUmeivr+WbnuiwgwogICAgICAgICAgICAgIGlmICh0aGlzLmtiQ29tcGFyZUVycm9yUHJvKSB7CiAgICAgICAgICAgICAgICAvLyDplJnor6/lm57osIMKICAgICAgICAgICAgICAgIHRoaXMua2JDb21wYXJlRXJyb3JQcm8oZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDmnInplJnor6/mlofmoYgKICAgICAgICAgICAgICAgIGlmICh0aGlzLmtiQ29tcGFyZUVycm9yKSB7IHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy5rYkNvbXBhcmVFcnJvcikgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDmo4DmtYvlpLHotKUKICAgICAgICAgICAgcmVqZWN0KCkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDlm77niYfmo4Dmn6UgLSDlrr3pq5jpmZDliLYgLSDmr5TkvovpmZDliLYgLS0tLS0tLS0KCiAgICAgICAgLy8g5Zu+54mH5qOA5rWLCiAgICAgICAgaWYgKCh0aGlzLmltZ1NpemVNb2RlICE9PSAwIHx8IHRoaXMuaW1nU2NhbGVNb2RlICE9PSAwKSAmJiB0aGlzLmlzSW1hZ2UoZmlsZS5uYW1lKSkgewogICAgICAgICAgLy8g6I635Y+W5Zu+54mH5a696auYCiAgICAgICAgICB0aGlzLmltYWdlU2l6ZShmaWxlLCAoaW1nV2lkdGgsIGltZ0hlaWdodCkgPT4gewogICAgICAgICAgICAvLyDlm77niYfmo4DmtYsgLSDlrr3pq5jpmZDliLYKICAgICAgICAgICAgaWYgKHRoaXMuaW1nU2l6ZU1vZGUgIT09IDApIHsKICAgICAgICAgICAgICAvLyDmo4DmtYvnu5PmnpwKICAgICAgICAgICAgICB2YXIgaXNPSyA9IHRydWUKICAgICAgICAgICAgICAvLyDlvIDlp4vmo4DmtYsKICAgICAgICAgICAgICBpZiAodGhpcy5pbWdTaXplTW9kZSA9PT0gMSkgewogICAgICAgICAgICAgICAgLy8g5bCP5LqOCiAgICAgICAgICAgICAgICBpc09LID0gKGltZ1dpZHRoIDwgdGhpcy5pbWdTaXplV2lkdGggJiYgaW1nSGVpZ2h0IDwgdGhpcy5pbWdTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5rYkNvbXBhcmVNb2RlID09PSAyKSB7CiAgICAgICAgICAgICAgICAvLyDlpKfkuo4KICAgICAgICAgICAgICAgIGlzT0sgPSAoaW1nV2lkdGggPiB0aGlzLmltZ1NpemVXaWR0aCAmJiBpbWdIZWlnaHQgPiB0aGlzLmltZ1NpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmltZ1NpemVNb2RlID09PSAzKSB7CiAgICAgICAgICAgICAgICAvLyDnrYnkuo4KICAgICAgICAgICAgICAgIGlzT0sgPSAoaW1nV2lkdGggPT09IHRoaXMuaW1nU2l6ZVdpZHRoICYmIGltZ0hlaWdodCA9PT0gdGhpcy5pbWdTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbWdTaXplTW9kZSA9PT0gMTEpIHsKICAgICAgICAgICAgICAgIC8vIOWwj+S6juetieS6jgogICAgICAgICAgICAgICAgaXNPSyA9IChpbWdXaWR0aCA8PSB0aGlzLmltZ1NpemVXaWR0aCAmJiBpbWdIZWlnaHQgPD0gdGhpcy5pbWdTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbWdTaXplTW9kZSA9PT0gMjIpIHsKICAgICAgICAgICAgICAgIC8vIOWkp+S6juetieS6jgogICAgICAgICAgICAgICAgaXNPSyA9IChpbWdXaWR0aCA+PSB0aGlzLmltZ1NpemVXaWR0aCAmJiBpbWdIZWlnaHQgPj0gdGhpcy5pbWdTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSB7fQogICAgICAgICAgICAgIC8vIOWIpOaWreajgOa1i+e7k+aenAogICAgICAgICAgICAgIGlmICghaXNPSykgewogICAgICAgICAgICAgICAgLy8g5piv5ZCm5YWB6K645oqb5Ye66ZSZ6K+vCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNFeGlzdEVycm9yVXBsb2FkSWQodXBsb2FkSWQpKSB7CiAgICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWdTaXplRXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgICAgICAvLyDplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ1NpemVFcnJvclBybyhmaWxlLCBmaWxlTGlzdCwgdXBsb2FkSWQpCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5paH5qGICiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1nU2l6ZUVycm9yKSB7IHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy5pbWdTaXplRXJyb3IpIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgICByZWplY3QoKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOWbvueJh+ajgOa1iyAtIOavlOS+i+mZkOWItgogICAgICAgICAgICBpZiAodGhpcy5pbWdTY2FsZU1vZGUgIT09IDApIHsKICAgICAgICAgICAgICAvLyDmo4DmtYvnu5PmnpwKICAgICAgICAgICAgICB2YXIgaXNXaWR0aCA9IChpbWdXaWR0aCAlIHRoaXMuaW1nU2NhbGVXaWR0aCkgPT09IDAKICAgICAgICAgICAgICB2YXIgaXNIZWlnaHQgPSAoaW1nSGVpZ2h0ICUgdGhpcy5pbWdTY2FsZUhlaWdodCkgPT09IDAKICAgICAgICAgICAgICAvLyDliKTmlq3mo4DmtYvnu5PmnpwKICAgICAgICAgICAgICBpZiAoIWlzV2lkdGggJiYgIWlzSGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAvLyDmmK/lkKblhYHorrjmipvlh7rplJnor68KICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0V4aXN0RXJyb3JVcGxvYWRJZCh1cGxvYWRJZCkpIHsKICAgICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltZ1NjYWxlRXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgICAgICAvLyDplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ1NjYWxlRXJyb3JQcm8oZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+aWh+ahiAogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltZ1NjYWxlRXJyb3IpIHsgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLmltZ1NjYWxlRXJyb3IpIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgICByZWplY3QoKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOajgOa1i+aIkOWKnwogICAgICAgICAgICByZXNvbHZlKCkKICAgICAgICAgIH0pCiAgICAgICAgICAvLyDkuI3opoHlnKjlkJHkuIvotbDkuoYKICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g6KeG6aKR5qOA5p+lIC0g5a696auY6ZmQ5Yi2IC0g5q+U5L6L6ZmQ5Yi2IC0tLS0tLS0tCgogICAgICAgIC8vIOinhumikeajgOa1iwogICAgICAgIGlmICgodGhpcy52aWRlU2l6ZU1vZGUgIT09IDAgfHwgdGhpcy52aWRlU2NhbGVNb2RlICE9PSAwKSAmJiB0aGlzLmlzVmlkZW8oZmlsZS5uYW1lKSkgewogICAgICAgICAgLy8g6I635Y+W5Zu+54mH5a696auYCiAgICAgICAgICB0aGlzLnZpZGVvU2l6ZShmaWxlLCAodmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQpID0+IHsKICAgICAgICAgICAgLy8g5Zu+54mH5qOA5rWLIC0g5a696auY6ZmQ5Yi2CiAgICAgICAgICAgIGlmICh0aGlzLnZpZGVTaXplTW9kZSAhPT0gMCkgewogICAgICAgICAgICAgIC8vIOajgOa1i+e7k+aenAogICAgICAgICAgICAgIHZhciBpc09LID0gdHJ1ZQogICAgICAgICAgICAgIC8vIOW8gOWni+ajgOa1iwogICAgICAgICAgICAgIGlmICh0aGlzLnZpZGVTaXplTW9kZSA9PT0gMSkgewogICAgICAgICAgICAgICAgLy8g5bCP5LqOCiAgICAgICAgICAgICAgICBpc09LID0gKHZpZGVvV2lkdGggPCB0aGlzLnZpZGVTaXplV2lkdGggJiYgdmlkZW9IZWlnaHQgPCB0aGlzLnZpZGVTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52aWRlU2l6ZU1vZGUgPT09IDIpIHsKICAgICAgICAgICAgICAgIC8vIOWkp+S6jgogICAgICAgICAgICAgICAgaXNPSyA9ICh2aWRlb1dpZHRoID4gdGhpcy52aWRlU2l6ZVdpZHRoICYmIHZpZGVvSGVpZ2h0ID4gdGhpcy52aWRlU2l6ZUhlaWdodCkKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmlkZVNpemVNb2RlID09PSAzKSB7CiAgICAgICAgICAgICAgICAvLyDnrYnkuo4KICAgICAgICAgICAgICAgIGlzT0sgPSAodmlkZW9XaWR0aCA9PT0gdGhpcy52aWRlU2l6ZVdpZHRoICYmIHZpZGVvSGVpZ2h0ID09PSB0aGlzLnZpZGVTaXplSGVpZ2h0KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52aWRlU2l6ZU1vZGUgPT09IDExKSB7CiAgICAgICAgICAgICAgICAvLyDlsI/kuo7nrYnkuo4KICAgICAgICAgICAgICAgIGlzT0sgPSAodmlkZW9XaWR0aCA8PSB0aGlzLnZpZGVTaXplV2lkdGggJiYgdmlkZW9IZWlnaHQgPD0gdGhpcy52aWRlU2l6ZUhlaWdodCkKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmlkZVNpemVNb2RlID09PSAyMikgewogICAgICAgICAgICAgICAgLy8g5aSn5LqO562J5LqOCiAgICAgICAgICAgICAgICBpc09LID0gKHZpZGVvV2lkdGggPj0gdGhpcy52aWRlU2l6ZVdpZHRoICYmIHZpZGVvSGVpZ2h0ID49IHRoaXMudmlkZVNpemVIZWlnaHQpCiAgICAgICAgICAgICAgfSBlbHNlIHt9CiAgICAgICAgICAgICAgLy8g5Yik5pat5qOA5rWL57uT5p6cCiAgICAgICAgICAgICAgaWYgKCFpc09LKSB7CiAgICAgICAgICAgICAgICAvLyDmmK/lkKblhYHorrjmipvlh7rplJnor68KICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0V4aXN0RXJyb3JVcGxvYWRJZCh1cGxvYWRJZCkpIHsKICAgICAgICAgICAgICAgICAgLy8g5pyJ6ZSZ6K+v5Zue6LCDCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZGVTaXplRXJyb3JQcm8pIHsKICAgICAgICAgICAgICAgICAgICAvLyDplJnor6/lm57osIMKICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVTaXplRXJyb3JQcm8oZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+aWh+ahiAogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZGVTaXplRXJyb3IpIHsgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLnZpZGVTaXplRXJyb3IpIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5qOA5rWL5aSx6LSlCiAgICAgICAgICAgICAgICByZWplY3QoKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOWbvueJh+ajgOa1iyAtIOavlOS+i+mZkOWItgogICAgICAgICAgICBpZiAodGhpcy52aWRlU2NhbGVNb2RlICE9PSAwKSB7CiAgICAgICAgICAgICAgLy8g5qOA5rWL57uT5p6cCiAgICAgICAgICAgICAgdmFyIGlzV2lkdGggPSAodmlkZW9XaWR0aCAlIHRoaXMudmlkZVNjYWxlV2lkdGgpID09PSAwCiAgICAgICAgICAgICAgdmFyIGlzSGVpZ2h0ID0gKHZpZGVvSGVpZ2h0ICUgdGhpcy52aWRlU2NhbGVIZWlnaHQpID09PSAwCiAgICAgICAgICAgICAgLy8g5Yik5pat5qOA5rWL57uT5p6cCiAgICAgICAgICAgICAgaWYgKCFpc1dpZHRoICYmICFpc0hlaWdodCkgewogICAgICAgICAgICAgICAgLy8g5piv5ZCm5YWB6K645oqb5Ye66ZSZ6K+vCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNFeGlzdEVycm9yVXBsb2FkSWQodXBsb2FkSWQpKSB7CiAgICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWRlU2NhbGVFcnJvclBybykgewogICAgICAgICAgICAgICAgICAgIC8vIOmUmeivr+WbnuiwgwogICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZVNjYWxlRXJyb3JQcm8oZmlsZSwgZmlsZUxpc3QsIHVwbG9hZElkKQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOaciemUmeivr+aWh+ahiAogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZGVTY2FsZUVycm9yKSB7IHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy52aWRlU2NhbGVFcnJvcikgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDmo4DmtYvlpLHotKUKICAgICAgICAgICAgICAgIHJlamVjdCgpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5qOA5rWL5oiQ5YqfCiAgICAgICAgICAgIHJlc29sdmUoKQogICAgICAgICAgfSkKICAgICAgICAgIC8vIOS4jeimgeWcqOWQkeS4i+i1sOS6hgogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDmo4DmtYvmiJDlip8gLS0tLS0tLS0KCiAgICAgICAgLy8g5qOA5rWL5oiQ5YqfCiAgICAgICAgcmVzb2x2ZSgpCiAgICAgIH0pCiAgICB9LAogICAgLy8g6Ieq5a6a5LmJ5LiK5Lyg57uT5p6cCiAgICBjdXN0b21SZXF1ZXN0UmVzdWx0IChmaWxlSnNvbiwgc3RhdHVzKSB7CiAgICAgIC8vIOiuvue9ruS4iuS8oOeKtuaAgQogICAgICBmaWxlSnNvbi5zdGF0dXMgPSBzdGF0dXMKICAgIH0sCiAgICAvLyDojrflj5bmnKzmrKHkuIrkvKDllK/kuIBJRAogICAgZ2V0VXBsb2FkSWQgKGZpbGVMaXN0KSB7CiAgICAgIC8vIOWUr+S4gOagh+ivhuespgogICAgICB2YXIgdXBsb2FkSWQgPSAnJwogICAgICAvLyDojrflj5bllK/kuIDmoIfor4bnrKYKICAgICAgZmlsZUxpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICB1cGxvYWRJZCArPSBpdGVtLnVpZAogICAgICB9KQogICAgICAvLyDov5Tlm54KICAgICAgcmV0dXJuIHVwbG9hZElkCiAgICB9LAogICAgLy8g5piv5ZCm5a2Y5Zyo5pys6L2u6ZSZ6K+vIHVwbG9hZElkCiAgICBpc0V4aXN0RXJyb3JVcGxvYWRJZCAodXBsb2FkSWQpIHsKICAgICAgLy8g5b2T5Li66ZSZ6K+v5ZSv5LiA5qih5byP55qE5pe25YCZ5omN6ZyA6KaB5qOA5rWLCiAgICAgIGlmICh0aGlzLmVycm9yTW9kZSA9PT0gMSkgewogICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lcnJvclVwbG9hZElkcy5pbmRleE9mKHVwbG9hZElkKQogICAgICAgIGNvbnN0IGlzRXhpc3QgPSBpbmRleCAhPT0gLTEKICAgICAgICBpZiAoIWlzRXhpc3QpIHsKICAgICAgICAgIHRoaXMuZXJyb3JVcGxvYWRJZHMucHVzaCh1cGxvYWRJZCkKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGlzRXhpc3QKICAgICAgfQogICAgICAvLyDkuI3ljIXlkKsKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9LAogICAgLy8g6I635Y+W5Zu+54mH5bC65a+477yI5byC5q2l6I635Y+W77yJCiAgICBpbWFnZVNpemUgKGZpbGUsIHJlc3VsdCkgewogICAgICAvLyDmlofku7bmnInlgLwKICAgICAgaWYgKGZpbGUpIHsKICAgICAgICAvLyDliJvlu7ogRmlsZVJlYWRlcgogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpCiAgICAgICAgLy8g5Yqg6L295paH5Lu2CiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7CiAgICAgICAgICAvLyDojrflj5YgYmFzZTY0IOWbvueJh+aVsOaNrgogICAgICAgICAgdmFyIGltZ0RhdGEgPSBlLnRhcmdldC5yZXN1bHQKICAgICAgICAgIC8vIOmAmui/h0ltYWdl5a+56LGh5Yqg6L29IGJhc2U2NCDlm77niYfmlbDmja4KICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpCiAgICAgICAgICAvLyDlm77niYfliqDovb3lrozmiJAKICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgLy8g6L+U5Zue5a696auYCiAgICAgICAgICAgIHJlc3VsdChpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KQogICAgICAgICAgfQogICAgICAgICAgLy8g5re75Yqg5Zu+54mH6L+b6KGM6K+75Y+WCiAgICAgICAgICBpbWFnZS5zcmMgPSBpbWdEYXRhCiAgICAgICAgfQogICAgICAgIC8vIOW8gOWni+ivu+WPluaWh+S7tgogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5pyq6I635Y+W5Yiw5paH5Lu2CiAgICAgICAgcmVzdWx0KDAsIDApCiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bop4bpopHlsLrlr7jvvIjlvILmraXojrflj5bvvIkKICAgIHZpZGVvU2l6ZSAoZmlsZSwgcmVzdWx0KSB7CiAgICAgIC8vIOaWh+S7tuacieWAvAogICAgICBpZiAoZmlsZSkgewogICAgICAgIC8vIOiOt+WPluaWh+S7tlVSTAogICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkKICAgICAgICAvLyDliJvlu7rop4bpopHmoIfnrb4KICAgICAgICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykKICAgICAgICAvLyDliqDovb3op4bpopHotYTmupAKICAgICAgICB2aWRlby5vbmxvYWRlZG1ldGFkYXRhID0gZXZ0ID0+IHsKICAgICAgICAgIC8vIOenu+mZpAogICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpCiAgICAgICAgICAvLyDov5Tlm57lrr3pq5gKICAgICAgICAgIHJlc3VsdCh2aWRlby52aWRlb1dpZHRoLCB2aWRlby52aWRlb0hlaWdodCkKICAgICAgICB9CiAgICAgICAgLy8g6K6+572u6KeG6aKR5rqQCiAgICAgICAgdmlkZW8uc3JjID0gdXJsCiAgICAgICAgLy8g5Yqg6L29CiAgICAgICAgdmlkZW8ubG9hZCgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5pyq6I635Y+W5Yiw5paH5Lu2CiAgICAgICAgcmVzdWx0KDAsIDApCiAgICAgIH0KICAgIH0sCiAgICAvLyDmmK/lkKbkuLrlm77niYcKICAgIGlzSW1hZ2UgKGZpbGVQYXRoKSB7CiAgICAgIC8vIOWbvueJh+WQjue8gAogICAgICBjb25zdCB0eXBlcyA9IFsncG5nJywgJ2pwZycsICdqcGVnJywgJ2JtcCcsICdnaWYnLCAnd2VicCcsICdwc2QnLCAnc3ZnJywgJ3RpZmYnXQogICAgICAvLyDmlofku7blkI7nvIAKICAgICAgY29uc3QgdHlwZSA9IHRoaXMuYXNzZXRUeXBlKGZpbGVQYXRoKQogICAgICAvLyDmmK/lkKbljIXlkKsKICAgICAgcmV0dXJuIHR5cGVzLmluZGV4T2YodHlwZSkgIT09IC0xCiAgICB9LAogICAgLy8g5piv5ZCm5Li66KeG6aKRCiAgICBpc1ZpZGVvIChmaWxlUGF0aCkgewogICAgICAvLyDlm77niYflkI7nvIAKICAgICAgY29uc3QgdHlwZXMgPSBbJ2F2aScsICd3bXYnLCAnbXBnJywgJ21wZWcnLCAnbW92JywgJ3JtJywgJ3JhbScsICdzd2YnLCAnZmx2JywgJ21wNCcsICdtcDMnLCAnd21hJywgJ2F2aScsICdybScsICdybXZiJywgJ2ZsdicsICdtcGcnLCAnbWt2J10KICAgICAgLy8g5paH5Lu25ZCO57yACiAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmFzc2V0VHlwZShmaWxlUGF0aCkKICAgICAgLy8g5piv5ZCm5YyF5ZCrCiAgICAgIHJldHVybiB0eXBlcy5pbmRleE9mKHR5cGUpICE9PSAtMQogICAgfSwKICAgIC8vIOiOt+WPluaWh+S7tuWQjue8gOexu+WeiwogICAgYXNzZXRUeXBlIChmaWxlUGF0aCkgewogICAgICAvLyDojrflj5bmnIDlkI7kuIDkuKou55qE5L2N572uCiAgICAgIHZhciBpbmRleD0gZmlsZVBhdGgubGFzdEluZGV4T2YoIi4iKQogICAgICAvLyDojrflj5blkI7nvIAKICAgICAgdmFyIHR5cGUgPSBmaWxlUGF0aC5zdWJzdHIoaW5kZXggKyAxKQogICAgICAvLyDov5Tlm57nsbvlnosKICAgICAgcmV0dXJuIHR5cGUudG9Mb3dlckNhc2UoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Upload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <!-- 主视图 -->\n  <div class=\"upload-view\">\n    <!-- 上传组件 -->\n    <a-upload\n      :accept=\"accept\"\n      :multiple=\"multiple\"\n      :disabled=\"disabled\"\n      :showUploadList=\"showUploadList\"\n      :fileList=\"fileList\"\n      :beforeUpload=\"beforeUpload\"\n      :customRequest=\"customRequest\"\n      :remove=\"remove\"\n    >\n      <!-- 自定义上传组件 -->\n      <slot name=\"up-slot\" :disabled=\"disabled\">\n        <!-- 上传按钮 -->\n        <a-button :disabled=\"disabled\">\n          <!-- 上传 icon -->\n          <slot name=\"up-icon\"><a-icon type=\"upload\" /></slot>\n          <!-- 上传文字 -->\n          <slot name=\"up-title\">上传文件</slot>\n        </a-button>\n      </slot>\n    </a-upload>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n\n    // =============================== 原生属性 - a-upload 自带属性扩展 ========\n\n    // 接受上传的文件类型 \n    // 参考地址：https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers\n    // 音频：'audio/*'\n    // 视频：'video/*'\n    // 图片：'image/*'\n    // 特殊匹配自行传入正则\n    accept: {\n      type: String,\n      default: () => undefined\n    },\n    // 已经上传的文件列表（受控）\n    // 文件案例：\n    // [{\n    //   uid: '必带，文件唯一标识',\n    //   name: '必带，文件名',\n    //   // uploading(上传中)、done(上传成功)、error(上传失败)、removed(移除，点击组件自带的删除按钮会被设置为移除状态，通常只需要前三种状态)\n    //   status: '必带，上传状态',\n    //   dupid: '可选，防止重复文件标识(file.lastModified)',\n    //   upid: '可选，本轮上传唯一标识，提交服务器时可剔除',\n    //   如果需要什么其他字段或辅助字段，可以自行添加，或者通过拦截 beforeUploadPro 拿到 fileJson 自行附带\n    // }]\n    fileList: {\n      type: Array,\n      default: () => []\n    },\n    // 是否展示上传列表\n    showUploadList: {\n      type: Boolean,\n      default: () => true\n    },\n    // 是否支持多选文件，ie10+ 支持。开启后按住 ctrl 可选择多个文件。\n    multiple: {\n      type: Boolean,\n      default: () => true\n    },\n    // 是否禁用\n    disabled: {\n      type: Boolean,\n      default: () => false\n    },\n    // 准备上传，回调钩子，若返回 false 则停止上传\n    // 类型：(file, fileList, fileJson) => boolean || Promise\n    beforeUploadPro: {\n      type: Function,\n      default: undefined\n    },\n    // 自定义上传，回调钩子，可以自定义自己的上传实现，\n    // 类型：(data, fileJson, (isSuccess) => {}) => {}\n    customRequestPro: {\n      type: Function,\n      default: undefined\n    },\n    // 点击移除文件时的回调，返回值为 false 时不移除\n    // 类型：(file) => boolean || Promise\n    removePro: {\n      type: Function,\n      default: undefined\n    },\n\n    // =============================== 公用检测 - 文件重复 ========\n\n    // 文件重复检测模式: \n    // 0 -> 允许重复\n    // 1 -> 禁止重复文件(多选模式：本次选择的所有文件，重复文件移除，不重复文件上传)\n    // 2 -> 禁止重复文件(多选模式：本次选择的所有文件，有一个存在重复，全部移除)\n    fileRepeatMode: {\n      type: Number,\n      default: () => 2\n    },\n    // 文件重复检测失败提示\n    fileRepeatError: {\n      type: String,\n      default: () => '不能重复导入文件'\n    },\n    // 文件重复检测失败提示，实现这个将不使用 fileRepeatError\n    // 类型：(file, fileList, uploadId, repeatFiles) => {}\n    // uploadId：本次上传操作唯一ID，多选文件模式可通过该唯一ID只显示一次错误\n    // repeatFiles: 重复文件列表\n    fileRepeatErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // =============================== 公用检测 - 检测错误控制 ========\n\n    // 每轮文件上传检测错误抛出模式:\n    // 0 -> 不限制，有多少错误正常抛出，可以通过每轮的 uploadId 自行判断重复问题 \n    // 1 -> 本轮检测错误只会抛出一次，如果本轮有多次错误，只会抛出第一次的错误，后续错误都不会在抛出\n    // 每轮：也就是每次点击上传按钮选择文件后确定上传算一轮，也是本次提交（单选多选都一样）\n    errorMode: {\n      type: Number,\n      default: () => 1\n    },\n    // 错误唯一标识（uploadId）存放（只在模式为 2 时生效）\n    errorUploadIds: {\n      type: Array,\n      default: () => []\n    },\n\n    // =============================== 公用检测 - 文件检测 ========\n\n    // (多选文件模式下生效)文件检测模式：\n    // 0 -> 不检测\n    // 1 -> 本次选择的所有文件，检测失败的移除，成功的上传\n    // 2 -> 本次选择的所有文件，有一个检测失败，全部移除\n    fileCheckMode: {\n      type: Number,\n      default: () => 2\n    },\n\n    // =============================== 公用检测 - 文件数量限制 ========\n\n    // 上传文件数量限制：0 -> 不限制，随便传\n    fileNumber: {\n      type: Number,\n      default: () => 0\n    },\n    // 上传文件数量限制检测失败提示\n    fileNumberError: {\n      type: String,\n      default: () => '已超出上传文件数量限制'\n    },\n    // 上传文件数量限制失败提示，实现这个将不使用 fileRepeatError\n    // 类型：(file, fileList, uploadId) => {}\n    // uploadId：本次上传操作唯一ID，多选文件模式可通过该唯一ID只显示一次错误\n    fileNumberErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // =============================== 公用检测 - 文件大小 ========\n    \n    // 文件大小检测模式（单位 kb）: \n    // 0 -> 关闭\n    // 1 -> 小于\n    // 2 -> 大于\n    // 3 -> 等于\n    // 11 -> 小于或等于\n    // 22 -> 大于或等于\n    kbCompareMode: {\n      type: Number,\n      default: () => 0\n    },\n    // 文件大小（单位 kb）\n    kbCompareSize: {\n      type: Number,\n      default: () => 0\n    },\n    // 文件大小检测失败提示\n    kbCompareError: {\n      type: String,\n      default: () => '文件大小与设定范围不匹配'\n    },\n    // 文件大小检测失败提示回调，实现这个将不使用 kbCompareError\n    // 类型：(file, fileList, uploadId) => {}\n    // uploadId：本次上传操作唯一ID，多选文件模式可通过该唯一ID只显示一次错误\n    kbCompareErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // =============================== 图片检查 - 宽高限制 ========\n\n    // 图片宽高检测模式（单位 px）: \n    // 0 -> 关闭\n    // 1 -> 小于\n    // 2 -> 大于\n    // 3 -> 等于\n    // 11 -> 小于或等于\n    // 22 -> 大于或等于\n    imgSizeMode: {\n      type: Number,\n      default: () => 2\n    },\n    // 图片宽度（单位 px）\n    imgSizeWidth: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片高度（单位 px）\n    imgSizeHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片宽高检测失败提示\n    imgSizeError: {\n      type: String,\n      default: () => '图片宽高与设定宽高不匹配'\n    },\n    // 图片宽高检测失败提示回调，实现这个将不使用 imgSizeError\n    // 类型：(file, fileList, uploadId) => {}\n    // uploadId：本次上传操作唯一ID，多选文件模式可通过该唯一ID只显示一次错误\n    imgSizeErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // =============================== 图片检查 - 比例限制 ========\n\n    // 图片比例检测模式（单位 px）: \n    // 0 -> 关闭\n    // 1 -> 开启\n    imgScaleMode: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片宽度比例\n    imgScaleWidth: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片高度比例\n    imgScaleHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片比例检测失败提示\n    imgScaleError: {\n      type: String,\n      default: () => '图片比例与设定比例不匹配'\n    },\n    // 图片比例检测失败提示回调，实现这个将不使用 imgScaleError\n    // 类型：(file, fileList, uploadId) => {}\n    // uploadId：本次上传操作唯一ID，多选文件模式可通过该唯一ID只显示一次错误\n    imgScaleErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // =============================== 视频检查 - 宽高限制 ========\n\n    // 图片宽高检测模式（单位 px）: \n    // 0 -> 关闭\n    // 1 -> 小于\n    // 2 -> 大于\n    // 3 -> 等于\n    // 11 -> 小于或等于\n    // 22 -> 大于或等于\n    videSizeMode: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片宽度（单位 px）\n    videSizeWidth: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片高度（单位 px）\n    videSizeHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片宽高检测失败提示\n    videSizeError: {\n      type: String,\n      default: () => '视频宽高与设定宽高不匹配'\n    },\n    // 图片宽高检测失败提示回调，实现这个将不使用 videSizeError\n    // 类型：(file, fileList, uploadId) => {}\n    // uploadId：本次上传操作唯一ID，多选文件模式可通过该唯一ID只显示一次错误\n    videSizeErrorPro: {\n      type: Function,\n      default: undefined\n    },\n\n    // =============================== 图片检查 - 比例限制 ========\n\n    // 图片比例检测模式（单位 px）: \n    // 0 -> 关闭\n    // 1 -> 开启\n    videScaleMode: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片宽度比例\n    videScaleWidth: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片高度比例\n    videScaleHeight: {\n      type: Number,\n      default: () => 0\n    },\n    // 图片比例检测失败提示\n    videScaleError: {\n      type: String,\n      default: () => '视频比例与设定比例不匹配'\n    },\n    // 图片比例检测失败提示回调，实现这个将不使用 videScaleError\n    // 类型：(file, fileList, uploadId) => {}\n    // uploadId：本次上传操作唯一ID，多选文件模式可通过该唯一ID只显示一次错误\n    videScaleErrorPro: {\n      type: Function,\n      default: undefined\n    },\n  },\n  methods: {\n    // 准备上传\n    beforeUpload (file, fileList) {\n      // 开始检测\n      return new Promise((resolve, reject) => {\n        // 获取本次上传唯一ID\n        const uploadId = this.getUploadId(fileList)\n\n        // ----------------------------- 公用检测 - 文件数量限制 --------\n\n        // 总文件数量\n        if (this.fileNumber !== 0) {\n          // 文件总数量\n          const total = this.fileList.length + fileList.length\n          // 如果文件总数量超过文件限制数量则停止上传\n          if (total > this.fileNumber) {\n            // 是否允许抛出错误\n            if (!this.isExistErrorUploadId(uploadId)) {\n              // 有错误回调\n              if (this.fileNumberErrorPro) {\n                // 错误回调\n                this.fileNumberErrorPro(file, fileList, uploadId)\n              } else {\n                // 有错误文案\n                if (this.fileNumberError) { this.$message.error(this.fileNumberError) }\n              }\n            }\n            // 不允许上传\n            reject()\n            return\n          }\n        }\n\n        // ----------------------------- 公用检测 - 文件检测 --------\n\n        // 文件对象\n        const fileJson = {\n          // 唯一标识符\n          uid: file.uid,\n          // 文件名\n          name: file.name,\n          // 文件状态：uploading(上传中)、done(上传成功)、error(上传失败)\n          status: 'uploading',\n          // 防止重复标识\n          dupid: file.lastModified,\n          // 本轮上传ID(上传服务器可剔除)\n          upid: uploadId\n          // 其他自用字段可自行附带\n        }\n\n        // 文件检测 - 同步\n        if (this.fileCheckMode !== 0) {\n          // 匹配检测模式\n          if (this.fileCheckMode === 1) {\n            // 本次选择的所有文件，检测失败的移除，成功的上传\n            this.fileCheck(file, fileList, uploadId).then(() => {\n              // 准备上传 预处理 1\n              this.beforeUploadProReadyOne(file, fileList, fileJson).then(() => {\n                // 加入文件列表\n                this.fileList.push(fileJson)\n                // 允许上传\n                resolve()\n              }).catch(() => {\n                // 不允许上传\n                reject()\n              })\n            }).catch(() => {\n              // 不允许上传\n              reject()\n            })\n          } else if (this.fileCheckMode === 2) {\n            // 本次选择的所有文件，有一个检测失败，全部移除\n            // Promise 数组\n            const ps = []\n            // 存放 Promise\n            fileList.forEach(item => {\n              ps.push(this.fileCheck(item, fileList, uploadId))\n            })\n            // 全部请求\n            Promise.all(ps).then(() => {\n              // 准备上传 预处理 1\n              this.beforeUploadProReadyOne(file, fileList, fileJson).then(() => {\n                // 加入文件列表\n                this.fileList.push(fileJson)\n                // 允许上传\n                resolve()\n              }).catch(() => {\n                // 不允许上传\n                reject()\n              })\n            }).catch((err) => {\n              console.log('1111', err)\n              // 不允许上传\n              reject()\n            })\n          } else {\n            // 加入文件列表\n            this.fileList.push(fileJson)\n            // 允许上传\n            resolve()\n          }\n        } else {\n          // 加入文件列表\n          this.fileList.push(fileJson)\n          // 允许上传\n          resolve()\n        }\n      })\n    },\n    // 准备上传 - 预处理 1\n    beforeUploadProReadyOne (file, fileList, fileJson) {\n      // 预处理\n      return new Promise((resolve, reject) => {\n\n        // ----------------------------- 准备上传 - 预处理 2 --------\n        \n        // 准备上传 预处理\n        this.beforeUploadProReadyTwo(file, fileList, fileJson).then(() => {\n          // 允许上传\n          resolve()\n        }).catch(() => {\n          // 不允许上传\n          reject()\n        })\n      })\n    },\n    // 准备上传 - 预处理 2\n    beforeUploadProReadyTwo (file, fileList, fileJson) {\n      // 预处理\n      return new Promise((resolve, reject) => {\n        // 外传回调\n        if (this.beforeUploadPro) {\n          // 获取回调结果\n          const p = this.beforeUploadPro(file, fileList, fileJson)\n          // 检测返回类型\n          if (typeof(p) === 'boolean') {\n            // 是否为 Boolean\n            if (p) {\n              // 允许上传\n              resolve()\n            } else {\n              // 不允许上传\n              reject()\n            }\n          } else if (!!p && (typeof(p) === 'object' || typeof obj === 'function') && typeof(p.then) === 'function') {\n            // 是否为 Promise\n            p.then(() => {\n              // 允许上传\n              resolve()\n            }).catch(() => {\n              // 不允许上传\n              reject()\n            })\n          }\n        } else {\n          // 允许上传\n          resolve()\n        }\n      })\n    },\n    // 自定义上传\n    customRequest (data) {\n      // 找到对应的上传文件对象\n      const fileJson = this.fileList.find(item => {\n        return data.file.uid === item.uid\n      })\n      // 自定义上传服务器\n      if (this.customRequestPro) {\n        // 自定义请求 \n        this.customRequestPro(data, fileJson, (isSuccess) => {\n          const status = isSuccess ? 'done' : 'error'\n          this.customRequestResult(fileJson, status)\n        })\n      } else {\n        this.$message.error('请自己实现 customRequestPro 自定义上传操作！')\n      }\n    },\n    // 点击移除文件时的回调\n    remove (file) {\n      // 预处理\n      return new Promise((resolve, reject) => {\n        // 外传回调\n        if (this.removePro) {\n          // 获取回调结果\n          const p = this.removePro(file)\n          // 检测返回类型\n          if (typeof(p) === 'boolean') {\n            // 是否为 Boolean\n            if (p) {\n              // 删除文件\n              const index = this.fileList.indexOf(file)\n              this.fileList.splice(index, 1)\n              // 允许删除\n              resolve()\n            } else {\n              // 不允许删除\n              reject()\n            }\n          } else if (!!p && (typeof(p) === 'object' || typeof obj === 'function') && typeof(p.then) === 'function') {\n            // 是否为 Promise\n            p.then(() => {\n              // 删除文件\n              const index = this.fileList.indexOf(file)\n              this.fileList.splice(index, 1)\n              // 允许上传\n              resolve()\n            }).catch(() => {\n              // 不允许删除\n              reject()\n            })\n          }\n        } else {\n          // 删除文件\n          const index = this.fileList.indexOf(file)\n          this.fileList.splice(index, 1)\n          // 允许删除\n          resolve()\n        }\n      })\n    },\n    // 文件检测 - 同步\n    fileCheck (file, fileList, uploadId) {\n      // 预处理\n      return new Promise((resolve, reject) => {\n\n        // ----------------------------- 公用检测 - 文件重复 --------\n\n        // 判断重复文件\n        if (this.fileRepeatMode !== 0) {\n          // 获取重复列表\n          const repeatFiles = []\n          fileList.forEach(itemOne => {\n            this.fileList.some(itemTwo => {\n              // 检测到重复文件 名称相同 && 最后修改时间相同 && 上传ID不相同\n              const isRepeat = itemOne.name === itemTwo.name && itemOne.lastModified === itemTwo.dupid && uploadId !== itemTwo.upid\n              if (isRepeat) { repeatFiles.push(itemOne) }\n              return isRepeat\n            })\n          })\n          // 根据重复类型检测\n          if (this.fileRepeatMode === 1) {\n            // 禁止重复文件(多选模式：本次选择的所有文件，重复文件移除，不重复文件上传)\n            const isRepeat = this.fileList.some(item => {\n              return file.name === item.name && file.lastModified === item.dupid\n            })\n            // 存在重复\n            if (isRepeat) {\n              // 是否允许抛出错误\n              if (!this.isExistErrorUploadId(uploadId)) {\n                // 有错误回调\n                if (this.fileRepeatErrorPro) {\n                  // 错误回调\n                  this.fileRepeatErrorPro(file, fileList, uploadId, repeatFiles)\n                } else {\n                  // 有错误文案\n                  if (this.fileRepeatError) { this.$message.error(this.fileRepeatError) }\n                }\n              }\n              // 检测失败\n              reject()\n              return\n            }\n          } else if (this.fileRepeatMode === 2) {\n            // 禁止重复文件(多选模式：本次选择的所有文件，有一个存在重复，全部移除)\n            const isRepeat = Boolean(repeatFiles.length)\n            // 存在重复\n            if (isRepeat) {\n              // 是否允许抛出错误\n              if (!this.isExistErrorUploadId(uploadId)) {\n                // 有错误回调\n                if (this.fileRepeatErrorPro) {\n                  // 错误回调\n                  this.fileRepeatErrorPro(file, fileList, uploadId, repeatFiles)\n                } else {\n                  // 有错误文案\n                  if (this.fileRepeatError) { this.$message.error(this.fileRepeatError) }\n                }\n              }\n              // 检测失败\n              reject()\n              return\n            }\n          }\n        }\n\n        // ----------------------------- 公用检测 - 文件大小 --------\n      \n        // 开启了 - 文件大小检测\n        if (this.kbCompareMode !== 0) {\n          // 检测结果\n          var isOK = true\n          // 获取文件大小（单位：kb）\n          const fileSize = file.size / 1024\n          // 开始检测\n          if (this.kbCompareMode === 1) {\n            // 小于\n            isOK = fileSize < this.kbCompareSize\n          } else if (this.kbCompareMode === 2) {\n            // 大于\n            isOK = fileSize > this.kbCompareSize\n          } else if (this.kbCompareMode === 3) {\n            // 等于\n            isOK = fileSize === this.kbCompareSize\n          } else if (this.kbCompareMode === 11) {\n            // 小于等于\n            isOK = fileSize <= this.kbCompareSize\n          } else if (this.kbCompareMode === 22) {\n            // 大于等于\n            isOK = fileSize >= this.kbCompareSize\n          } else {}\n          // 判断检测结果\n          if (!isOK) {\n            // 是否允许抛出错误\n            if (!this.isExistErrorUploadId(uploadId)) {\n              // 有错误回调\n              if (this.kbCompareErrorPro) {\n                // 错误回调\n                this.kbCompareErrorPro(file, fileList, uploadId)\n              } else {\n                // 有错误文案\n                if (this.kbCompareError) { this.$message.error(this.kbCompareError) }\n              }\n            }\n            // 检测失败\n            reject()\n            return\n          }\n        }\n\n        // ----------------------------- 图片检查 - 宽高限制 - 比例限制 --------\n\n        // 图片检测\n        if ((this.imgSizeMode !== 0 || this.imgScaleMode !== 0) && this.isImage(file.name)) {\n          // 获取图片宽高\n          this.imageSize(file, (imgWidth, imgHeight) => {\n            // 图片检测 - 宽高限制\n            if (this.imgSizeMode !== 0) {\n              // 检测结果\n              var isOK = true\n              // 开始检测\n              if (this.imgSizeMode === 1) {\n                // 小于\n                isOK = (imgWidth < this.imgSizeWidth && imgHeight < this.imgSizeHeight)\n              } else if (this.kbCompareMode === 2) {\n                // 大于\n                isOK = (imgWidth > this.imgSizeWidth && imgHeight > this.imgSizeHeight)\n              } else if (this.imgSizeMode === 3) {\n                // 等于\n                isOK = (imgWidth === this.imgSizeWidth && imgHeight === this.imgSizeHeight)\n              } else if (this.imgSizeMode === 11) {\n                // 小于等于\n                isOK = (imgWidth <= this.imgSizeWidth && imgHeight <= this.imgSizeHeight)\n              } else if (this.imgSizeMode === 22) {\n                // 大于等于\n                isOK = (imgWidth >= this.imgSizeWidth && imgHeight >= this.imgSizeHeight)\n              } else {}\n              // 判断检测结果\n              if (!isOK) {\n                // 是否允许抛出错误\n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // 有错误回调\n                  if (this.imgSizeErrorPro) {\n                    // 错误回调\n                    this.imgSizeErrorPro(file, fileList, uploadId)\n                  } else {\n                    // 有错误文案\n                    if (this.imgSizeError) { this.$message.error(this.imgSizeError) }\n                  }\n                }\n                // 检测失败\n                reject()\n                return\n              }\n            }\n            // 图片检测 - 比例限制\n            if (this.imgScaleMode !== 0) {\n              // 检测结果\n              var isWidth = (imgWidth % this.imgScaleWidth) === 0\n              var isHeight = (imgHeight % this.imgScaleHeight) === 0\n              // 判断检测结果\n              if (!isWidth && !isHeight) {\n                // 是否允许抛出错误\n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // 有错误回调\n                  if (this.imgScaleErrorPro) {\n                    // 错误回调\n                    this.imgScaleErrorPro(file, fileList, uploadId)\n                  } else {\n                    // 有错误文案\n                    if (this.imgScaleError) { this.$message.error(this.imgScaleError) }\n                  }\n                }\n                // 检测失败\n                reject()\n                return\n              }\n            }\n            // 检测成功\n            resolve()\n          })\n          // 不要在向下走了\n          return\n        }\n\n        // ----------------------------- 视频检查 - 宽高限制 - 比例限制 --------\n\n        // 视频检测\n        if ((this.videSizeMode !== 0 || this.videScaleMode !== 0) && this.isVideo(file.name)) {\n          // 获取图片宽高\n          this.videoSize(file, (videoWidth, videoHeight) => {\n            // 图片检测 - 宽高限制\n            if (this.videSizeMode !== 0) {\n              // 检测结果\n              var isOK = true\n              // 开始检测\n              if (this.videSizeMode === 1) {\n                // 小于\n                isOK = (videoWidth < this.videSizeWidth && videoHeight < this.videSizeHeight)\n              } else if (this.videSizeMode === 2) {\n                // 大于\n                isOK = (videoWidth > this.videSizeWidth && videoHeight > this.videSizeHeight)\n              } else if (this.videSizeMode === 3) {\n                // 等于\n                isOK = (videoWidth === this.videSizeWidth && videoHeight === this.videSizeHeight)\n              } else if (this.videSizeMode === 11) {\n                // 小于等于\n                isOK = (videoWidth <= this.videSizeWidth && videoHeight <= this.videSizeHeight)\n              } else if (this.videSizeMode === 22) {\n                // 大于等于\n                isOK = (videoWidth >= this.videSizeWidth && videoHeight >= this.videSizeHeight)\n              } else {}\n              // 判断检测结果\n              if (!isOK) {\n                // 是否允许抛出错误\n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // 有错误回调\n                  if (this.videSizeErrorPro) {\n                    // 错误回调\n                    this.videSizeErrorPro(file, fileList, uploadId)\n                  } else {\n                    // 有错误文案\n                    if (this.videSizeError) { this.$message.error(this.videSizeError) }\n                  }\n                }\n                // 检测失败\n                reject()\n                return\n              }\n            }\n            // 图片检测 - 比例限制\n            if (this.videScaleMode !== 0) {\n              // 检测结果\n              var isWidth = (videoWidth % this.videScaleWidth) === 0\n              var isHeight = (videoHeight % this.videScaleHeight) === 0\n              // 判断检测结果\n              if (!isWidth && !isHeight) {\n                // 是否允许抛出错误\n                if (!this.isExistErrorUploadId(uploadId)) {\n                  // 有错误回调\n                  if (this.videScaleErrorPro) {\n                    // 错误回调\n                    this.videScaleErrorPro(file, fileList, uploadId)\n                  } else {\n                    // 有错误文案\n                    if (this.videScaleError) { this.$message.error(this.videScaleError) }\n                  }\n                }\n                // 检测失败\n                reject()\n                return\n              }\n            }\n            // 检测成功\n            resolve()\n          })\n          // 不要在向下走了\n          return\n        }\n\n        // ----------------------------- 检测成功 --------\n\n        // 检测成功\n        resolve()\n      })\n    },\n    // 自定义上传结果\n    customRequestResult (fileJson, status) {\n      // 设置上传状态\n      fileJson.status = status\n    },\n    // 获取本次上传唯一ID\n    getUploadId (fileList) {\n      // 唯一标识符\n      var uploadId = ''\n      // 获取唯一标识符\n      fileList.forEach(item => {\n        uploadId += item.uid\n      })\n      // 返回\n      return uploadId\n    },\n    // 是否存在本轮错误 uploadId\n    isExistErrorUploadId (uploadId) {\n      // 当为错误唯一模式的时候才需要检测\n      if (this.errorMode === 1) {\n        const index = this.errorUploadIds.indexOf(uploadId)\n        const isExist = index !== -1\n        if (!isExist) {\n          this.errorUploadIds.push(uploadId)\n        }\n        return isExist\n      }\n      // 不包含\n      return false\n    },\n    // 获取图片尺寸（异步获取）\n    imageSize (file, result) {\n      // 文件有值\n      if (file) {\n        // 创建 FileReader\n        var reader = new FileReader()\n        // 加载文件\n        reader.onload = (e) => {\n          // 获取 base64 图片数据\n          var imgData = e.target.result\n          // 通过Image对象加载 base64 图片数据\n          var image = new Image()\n          // 图片加载完成\n          image.onload = () => {\n            // 返回宽高\n            result(image.width, image.height)\n          }\n          // 添加图片进行读取\n          image.src = imgData\n        }\n        // 开始读取文件\n        reader.readAsDataURL(file)\n      } else {\n        // 未获取到文件\n        result(0, 0)\n      }\n    },\n    // 获取视频尺寸（异步获取）\n    videoSize (file, result) {\n      // 文件有值\n      if (file) {\n        // 获取文件URL\n        const url = URL.createObjectURL(file)\n        // 创建视频标签\n        const video = document.createElement('video')\n        // 加载视频资源\n        video.onloadedmetadata = evt => {\n          // 移除\n          URL.revokeObjectURL(url)\n          // 返回宽高\n          result(video.videoWidth, video.videoHeight)\n        }\n        // 设置视频源\n        video.src = url\n        // 加载\n        video.load()\n      } else {\n        // 未获取到文件\n        result(0, 0)\n      }\n    },\n    // 是否为图片\n    isImage (filePath) {\n      // 图片后缀\n      const types = ['png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff']\n      // 文件后缀\n      const type = this.assetType(filePath)\n      // 是否包含\n      return types.indexOf(type) !== -1\n    },\n    // 是否为视频\n    isVideo (filePath) {\n      // 图片后缀\n      const types = ['avi', 'wmv', 'mpg', 'mpeg', 'mov', 'rm', 'ram', 'swf', 'flv', 'mp4', 'mp3', 'wma', 'avi', 'rm', 'rmvb', 'flv', 'mpg', 'mkv']\n      // 文件后缀\n      const type = this.assetType(filePath)\n      // 是否包含\n      return types.indexOf(type) !== -1\n    },\n    // 获取文件后缀类型\n    assetType (filePath) {\n      // 获取最后一个.的位置\n      var index= filePath.lastIndexOf(\".\")\n      // 获取后缀\n      var type = filePath.substr(index + 1)\n      // 返回类型\n      return type.toLowerCase()\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"]}]}